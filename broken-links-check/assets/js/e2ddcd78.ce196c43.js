"use strict";(globalThis.webpackChunkDocuQuest_oslar_code=globalThis.webpackChunkDocuQuest_oslar_code||[]).push([[5866],{3681:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>i,contentTitle:()=>c,default:()=>j,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"backend/JSON/guardarLeer","title":"Guardar y leer datos de un archivo JSON en Node.js","description":"\xbfPor qu\xe9 es \xfatil esto?","source":"@site/docs/backend/JSON/guardarLeer.md","sourceDirName":"backend/JSON","slug":"/backend/JSON/guardarLeer","permalink":"/docuQuest/docs/backend/JSON/guardarLeer","draft":false,"unlisted":false,"editUrl":"https://github.com/OslarCode/OslarCode/docs/backend/JSON/guardarLeer.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Crear y generar JSON en Node.js con JSON.stringify()","permalink":"/docuQuest/docs/backend/JSON/crearGenerar"},"next":{"title":"Manipular JSON desde formularios HTML con Node.js","permalink":"/docuQuest/docs/backend/JSON/manipularJSON"}}');var d=s(4848),a=s(8453);const o={},c="Guardar y leer datos de un archivo JSON en Node.js",i={},l=[{value:"\xbfPor qu\xe9 es \xfatil esto?",id:"por-qu\xe9-es-\xfatil-esto",level:2},{value:"\xbfQu\xe9 aprender\xe1s?",id:"qu\xe9-aprender\xe1s",level:2},{value:"Caso pr\xe1ctico: guardar mensajes desde un script local",id:"caso-pr\xe1ctico-guardar-mensajes-desde-un-script-local",level:2},{value:"Estructura sugerida del proyecto",id:"estructura-sugerida-del-proyecto",level:3},{value:"Paso 1: Crear <code>index.js</code> (mostrar mensajes)",id:"paso-1-crear-indexjs-mostrar-mensajes",level:2},{value:"Paso 2: Crear <code>guardar.js</code> (agregar nuevo mensaje)",id:"paso-2-crear-guardarjs-agregar-nuevo-mensaje",level:2},{value:"Resultado",id:"resultado",level:2},{value:"Lo que est\xe1s usando aqu\xed:",id:"lo-que-est\xe1s-usando-aqu\xed",level:2},{value:"Consejos extra",id:"consejos-extra",level:2}];function t(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.header,{children:(0,d.jsx)(r.h1,{id:"guardar-y-leer-datos-de-un-archivo-json-en-nodejs",children:"Guardar y leer datos de un archivo JSON en Node.js"})}),"\n",(0,d.jsx)(r.h2,{id:"por-qu\xe9-es-\xfatil-esto",children:"\xbfPor qu\xe9 es \xfatil esto?"}),"\n",(0,d.jsx)(r.p,{children:"Permite guardar informaci\xf3n sin usar bases de datos como MySQL."}),"\n",(0,d.jsxs)(r.p,{children:["Ideal para ",(0,d.jsx)(r.strong,{children:"prototipos"}),", ",(0,d.jsx)(r.strong,{children:"ejercicios pr\xe1cticos"})," y ",(0,d.jsx)(r.strong,{children:"proyectos peque\xf1os"}),"."]}),"\n",(0,d.jsxs)(r.p,{children:["Los datos quedan guardados en un archivo ",(0,d.jsx)(r.code,{children:".json"})," local, f\xe1cil de leer y modificar."]}),"\n",(0,d.jsx)(r.h2,{id:"qu\xe9-aprender\xe1s",children:"\xbfQu\xe9 aprender\xe1s?"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:["C\xf3mo ",(0,d.jsx)(r.strong,{children:"crear"})," un archivo ",(0,d.jsx)(r.code,{children:".json"})," con ",(0,d.jsx)(r.code,{children:"JSON.stringify()"})]}),"\n",(0,d.jsxs)(r.li,{children:["C\xf3mo ",(0,d.jsx)(r.strong,{children:"agregar"})," nuevos datos sin borrar los anteriores"]}),"\n",(0,d.jsxs)(r.li,{children:["C\xf3mo ",(0,d.jsx)(r.strong,{children:"leer y mostrar"})," los datos con ",(0,d.jsx)(r.code,{children:"JSON.parse()"})]}),"\n"]}),"\n",(0,d.jsx)(r.h2,{id:"caso-pr\xe1ctico-guardar-mensajes-desde-un-script-local",children:"Caso pr\xe1ctico: guardar mensajes desde un script local"}),"\n",(0,d.jsx)(r.h3,{id:"estructura-sugerida-del-proyecto",children:"Estructura sugerida del proyecto"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{children:"guardar-json/\r\n\u251c\u2500\u2500 index.js              \u2190 Script principal\r\n\u251c\u2500\u2500 guardar.js            \u2190 Agrega un nuevo mensaje\r\n\u251c\u2500\u2500 mensajes.json         \u2190 \u201cBase de datos\u201d simulada\r\n\n"})}),"\n",(0,d.jsxs)(r.h2,{id:"paso-1-crear-indexjs-mostrar-mensajes",children:["Paso 1: Crear ",(0,d.jsx)(r.code,{children:"index.js"})," (mostrar mensajes)"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-jsx",children:'import { readFileSync, existsSync } from "node:fs";\r\n\r\n// 1. Leer archivo si existe\r\nconst archivo = "mensajes.json";\r\nconst mensajes = existsSync(archivo)\r\n  ? JSON.parse(readFileSync(archivo, "utf8"))\r\n  : [];\r\n\r\n// 2. Mostrar mensajes guardados\r\nconsole.log("\ud83d\udcac Mensajes guardados:\\n");\r\n\r\nfor (const m of mensajes) {\r\n  console.log(`\ud83d\udc64 ${m.nombre}: ${m.mensaje}`);\r\n  console.log(`\ud83d\udd52 ${m.fecha}\\n`);\r\n}\n'})}),"\n",(0,d.jsxs)(r.p,{children:["\u2705 Este script simplemente lee el archivo ",(0,d.jsx)(r.code,{children:".json"})," y muestra el contenido por consola."]}),"\n",(0,d.jsxs)(r.h2,{id:"paso-2-crear-guardarjs-agregar-nuevo-mensaje",children:["Paso 2: Crear ",(0,d.jsx)(r.code,{children:"guardar.js"})," (agregar nuevo mensaje)"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-jsx",children:'import { readFileSync, writeFileSync, existsSync } from "node:fs";\r\n\r\n// 1. Simulamos datos que podr\xedan venir de un formulario\r\nconst nombre = process.argv[2];\r\nconst mensaje = process.argv[3];\r\n\r\nif (!nombre || !mensaje) {\r\n  console.error(\r\n    "\u274c Debes indicar nombre y mensaje. Ej: node guardar.js Mario \'Hola mundo\'"\r\n  );\r\n  process.exit(1);\r\n}\r\n\r\n// 2. Leer archivo anterior si existe\r\nconst archivo = "mensajes.json";\r\nconst mensajes = existsSync(archivo)\r\n  ? JSON.parse(readFileSync(archivo, "utf8"))\r\n  : [];\r\n\r\n// 3. Agregar nuevo mensaje\r\nmensajes.push({\r\n  nombre,\r\n  mensaje,\r\n  fecha: new Date().toISOString().replace("T", " ").slice(0, 16),\r\n});\r\n\r\n// 4. Guardar de nuevo con formato legible\r\nwriteFileSync(archivo, JSON.stringify(mensajes, null, 2), "utf8");\r\n\r\nconsole.log(`\u2705 Mensaje guardado correctamente de ${nombre}`);\n'})}),"\n",(0,d.jsxs)(r.p,{children:["Cada vez que ejecutes este script, el nuevo mensaje se agregar\xe1 al final de ",(0,d.jsx)(r.code,{children:"mensajes.json"})," sin borrar los anteriores."]}),"\n",(0,d.jsx)(r.p,{children:"Ejemplo de uso en la terminal:"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{children:'node guardar.js Mario "Hola desde Node"\r\nnode guardar.js Luigi "Todo bien"\r\n\n'})}),"\n",(0,d.jsx)(r.h2,{id:"resultado",children:"Resultado"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:["Los mensajes se almacenan como array de objetos dentro de ",(0,d.jsx)(r.code,{children:"mensajes.json"}),"."]}),"\n",(0,d.jsxs)(r.li,{children:["Se pueden leer desde ",(0,d.jsx)(r.code,{children:"index.js"}),"."]}),"\n",(0,d.jsx)(r.li,{children:"No se sobrescriben los mensajes anteriores."}),"\n",(0,d.jsx)(r.li,{children:"No necesitas base de datos."}),"\n"]}),"\n",(0,d.jsxs)(r.p,{children:["Contenido de ",(0,d.jsx)(r.code,{children:"mensajes.json"})," despu\xe9s de varios mensajes:"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-json",children:'[\r\n  {\r\n    "nombre": "Mario",\r\n    "mensaje": "Hola desde Node",\r\n    "fecha": "2025-10-25 12:30"\r\n  },\r\n  {\r\n    "nombre": "Luigi",\r\n    "mensaje": "Todo bien",\r\n    "fecha": "2025-10-25 12:31"\r\n  }\r\n]\n'})}),"\n",(0,d.jsx)(r.h2,{id:"lo-que-est\xe1s-usando-aqu\xed",children:"Lo que est\xe1s usando aqu\xed:"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Acci\xf3n"}),(0,d.jsx)(r.th,{children:"M\xe9todo en Node.js"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsxs)(r.td,{children:["Leer archivo ",(0,d.jsx)(r.code,{children:".json"})]}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"readFileSync()"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Verificar existencia del archivo"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"existsSync()"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Convertir JSON a objeto"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"JSON.parse()"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Convertir objeto a JSON"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"JSON.stringify(..., null, 2)"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Guardar datos en archivo"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"writeFileSync()"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Mostrar datos en consola"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"console.log()"})})]})]})]}),"\n",(0,d.jsx)(r.h2,{id:"consejos-extra",children:"Consejos extra"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Tip"}),(0,d.jsx)(r.th,{children:"Para qu\xe9 sirve"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Validar campos antes de guardar"}),(0,d.jsx)(r.td,{children:"Evita errores y mensajes vac\xedos"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsxs)(r.td,{children:["Guardar con ",(0,d.jsx)(r.code,{children:"null, 2"})]}),(0,d.jsx)(r.td,{children:"Hace que el archivo quede bien indentado"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Hacer copia de seguridad del JSON"}),(0,d.jsx)(r.td,{children:"Evita perder datos importantes"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Ordenar los mensajes por fecha"}),(0,d.jsxs)(r.td,{children:["Puedes usar ",(0,d.jsx)(r.code,{children:".reverse()"})," o ",(0,d.jsx)(r.code,{children:".sort()"})]})]})]})]})]})}function j(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>o,x:()=>c});var n=s(6540);const d={},a=n.createContext(d);function o(e){const r=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);