"use strict";(globalThis.webpackChunkDocuQuest_oslar_code=globalThis.webpackChunkDocuQuest_oslar_code||[]).push([[4106],{4010:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"backend/apiWeb/seguridad","title":"Seguridad APIs web","description":"\xbfPor qu\xe9 la seguridad en APIs es tan importante?","source":"@site/docs/backend/apiWeb/seguridad.md","sourceDirName":"backend/apiWeb","slug":"/backend/apiWeb/seguridad","permalink":"/docuQuest/docs/backend/apiWeb/seguridad","draft":false,"unlisted":false,"editUrl":"https://github.com/OslarCode/OslarCode/docs/backend/apiWeb/seguridad.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"GraphQL","permalink":"/docuQuest/docs/backend/apiWeb/graphQL"},"next":{"title":"Pruebas de monitoreo de APIs web","permalink":"/docuQuest/docs/backend/apiWeb/monitoreo"}}');var i=a(4848),r=a(8453);const o={},d="Seguridad APIs web",t={},l=[{value:"\xbfPor qu\xe9 la seguridad en APIs es tan importante?",id:"por-qu\xe9-la-seguridad-en-apis-es-tan-importante",level:3},{value:"Identificar usuarios y limitar accesos",id:"identificar-usuarios-y-limitar-accesos",level:3},{value:"Autenticaci\xf3n: \xbfqui\xe9n eres?",id:"autenticaci\xf3n-qui\xe9n-eres",level:3},{value:"Autorizaci\xf3n: \xbfqu\xe9 puedes hacer?",id:"autorizaci\xf3n-qu\xe9-puedes-hacer",level:3},{value:"C\xf3mo proteger los datos mientras viajan",id:"c\xf3mo-proteger-los-datos-mientras-viajan",level:3},{value:"HTTPS: tu candado de seguridad",id:"https-tu-candado-de-seguridad",level:3},{value:"Datos almacenados tambi\xe9n deben protegerse",id:"datos-almacenados-tambi\xe9n-deben-protegerse",level:3},{value:"Defenderse de los ataques m\xe1s comunes",id:"defenderse-de-los-ataques-m\xe1s-comunes",level:3},{value:"CSRF (enga\xf1o en segundo plano)",id:"csrf-enga\xf1o-en-segundo-plano",level:3},{value:"XSS (inyecci\xf3n de scripts)",id:"xss-inyecci\xf3n-de-scripts",level:3},{value:"SQL Injection (ataque a la base de datos)",id:"sql-injection-ataque-a-la-base-de-datos",level:3},{value:"\xbfY si otra web quiere usar mi API?",id:"y-si-otra-web-quiere-usar-mi-api",level:3},{value:"Reflexi\xf3n final",id:"reflexi\xf3n-final",level:3}];function c(e){const s={code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"seguridad-apis-web",children:"Seguridad APIs web"})}),"\n",(0,i.jsx)(s.h3,{id:"por-qu\xe9-la-seguridad-en-apis-es-tan-importante",children:"\xbfPor qu\xe9 la seguridad en APIs es tan importante?"}),"\n",(0,i.jsx)(s.p,{children:"Cuando usas una API, b\xe1sicamente est\xe1s dejando abierta una puerta de tu sistema para que otras aplicaciones entren y salgan con datos. Esto puede ser muy \xfatil, pero tambi\xe9n arriesgado. Sin medidas de seguridad, cualquiera podr\xeda intentar entrar sin permiso, manipular la informaci\xf3n o incluso da\xf1ar la base de datos."}),"\n",(0,i.jsx)(s.p,{children:'Para evitarlo, es fundamental usar m\xe9todos que verifiquen qui\xe9n accede, qu\xe9 puede hacer, y c\xf3mo se transmite la informaci\xf3n. A esto lo llamamos "asegurar la API".'}),"\n",(0,i.jsx)(s.h3,{id:"identificar-usuarios-y-limitar-accesos",children:"Identificar usuarios y limitar accesos"}),"\n",(0,i.jsxs)(s.p,{children:["Primero, es importante ",(0,i.jsx)(s.strong,{children:"verificar qui\xe9n eres t\xfa"})," cuando haces una petici\xf3n a una API. A esto se le llama autenticaci\xf3n. Luego, hay que decidir ",(0,i.jsx)(s.strong,{children:"qu\xe9 puedes o no puedes hacer"}),", lo que se llama autorizaci\xf3n."]}),"\n",(0,i.jsx)(s.h3,{id:"autenticaci\xf3n-qui\xe9n-eres",children:"Autenticaci\xf3n: \xbfqui\xe9n eres?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Contrase\xf1a simple (Basic Auth)"}),": Es como dar usuario y clave, pero codificados. No es muy seguro si no se usa HTTPS."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"OAuth 2.0"}),": Es como usar tu cuenta de Google para entrar en una app sin darle tu clave. Se usan \u201ctokens\u201d que duran un tiempo limitado."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"JWT (JSON Web Tokens)"}),": Un peque\xf1o archivo codificado que confirma qui\xe9n eres. Es f\xe1cil de validar y transportar."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"API Keys"}),": Una clave secreta que identifica a cada app o usuario. \xdatil, pero menos segura si se filtra."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"autorizaci\xf3n-qu\xe9-puedes-hacer",children:"Autorizaci\xf3n: \xbfqu\xe9 puedes hacer?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Roles y permisos"}),": Como en una empresa, algunos usuarios pueden ver datos, otros pueden cambiarlos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Scopes"}),": En OAuth, los tokens pueden tener l\xedmites claros (por ejemplo: \u201csolo puede ver, no puede editar\u201d)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Listas de acceso (ACL)"}),": Un listado detallado de qui\xe9n puede acceder a qu\xe9 partes de la API."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"c\xf3mo-proteger-los-datos-mientras-viajan",children:"C\xf3mo proteger los datos mientras viajan"}),"\n",(0,i.jsx)(s.p,{children:"Una vez autenticado y autorizado, lo que transmites tambi\xe9n debe estar protegido. Si no, cualquiera podr\xeda interceptarlo."}),"\n",(0,i.jsx)(s.h3,{id:"https-tu-candado-de-seguridad",children:"HTTPS: tu candado de seguridad"}),"\n",(0,i.jsx)(s.p,{children:"Al igual que cuando compras online, HTTPS cifra los datos que van entre tu navegador y el servidor. As\xed, nadie puede espiar ni modificar lo que est\xe1s enviando."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Para activarlo, necesitas un ",(0,i.jsx)(s.strong,{children:"certificado digital"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Hay que mantenerlo actualizado y configurar bien el servidor (usando opciones como HSTS)."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"datos-almacenados-tambi\xe9n-deben-protegerse",children:"Datos almacenados tambi\xe9n deben protegerse"}),"\n",(0,i.jsxs)(s.p,{children:["No solo importa la seguridad en tr\xe1nsito. Si los datos ya est\xe1n guardados en una base de datos, tambi\xe9n hay que ",(0,i.jsx)(s.strong,{children:"cifrarlos en reposo"}),", por si alguien accede indebidamente al disco. Se usan claves privadas para este fin, y es importante gestionarlas con cuidado."]}),"\n",(0,i.jsx)(s.h3,{id:"defenderse-de-los-ataques-m\xe1s-comunes",children:"Defenderse de los ataques m\xe1s comunes"}),"\n",(0,i.jsx)(s.p,{children:"Las APIs pueden ser blanco de varios trucos maliciosos. Estos son los m\xe1s conocidos y c\xf3mo prevenirlos."}),"\n",(0,i.jsx)(s.h3,{id:"csrf-enga\xf1o-en-segundo-plano",children:"CSRF (enga\xf1o en segundo plano)"}),"\n",(0,i.jsxs)(s.p,{children:["Un sitio malicioso puede intentar que, sin saberlo, hagas algo con tu sesi\xf3n activa en otra web. Para evitarlo, se usan ",(0,i.jsx)(s.strong,{children:"tokens CSRF"}),", c\xf3digos \xfanicos que solo el servidor y t\xfa conocen."]}),"\n",(0,i.jsx)(s.h3,{id:"xss-inyecci\xf3n-de-scripts",children:"XSS (inyecci\xf3n de scripts)"}),"\n",(0,i.jsx)(s.p,{children:"Alguien puede intentar meter c\xf3digo malicioso en una entrada (como un comentario), y que ese c\xf3digo se ejecute cuando otro usuario lo vea. Para prevenirlo:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Limpia los datos que ingresan."}),"\n",(0,i.jsx)(s.li,{children:"Usa pol\xedticas de seguridad (CSP) que bloqueen scripts desconocidos."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sql-injection-ataque-a-la-base-de-datos",children:"SQL Injection (ataque a la base de datos)"}),"\n",(0,i.jsx)(s.p,{children:"Un atacante puede escribir comandos en un formulario para controlar la base de datos. Para evitarlo:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Nunca juntes directamente datos del usuario con consultas SQL."}),"\n",(0,i.jsx)(s.li,{children:"Usa consultas preparadas o parametrizadas."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"y-si-otra-web-quiere-usar-mi-api",children:"\xbfY si otra web quiere usar mi API?"}),"\n",(0,i.jsxs)(s.p,{children:["Por defecto, los navegadores bloquean peticiones que vienen de otros sitios web. Pero si t\xfa quieres permitirlo (por ejemplo, desde tu frontend en React), debes configurar ",(0,i.jsx)(s.strong,{children:"CORS"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Esto se hace a\xf1adiendo ciertos encabezados en las respuestas de tu API, como:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access-Control-Allow-Origin"}),": qu\xe9 dominios pueden acceder."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access-Control-Allow-Methods"}),": qu\xe9 m\xe9todos est\xe1n permitidos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access-Control-Allow-Headers"}),": qu\xe9 datos pueden incluirse en la petici\xf3n."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access-Control-Allow-Credentials"}),": si se permiten cookies o tokens."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Ejemplo real: si usas Node.js con Express, puedes usar el middleware ",(0,i.jsx)(s.code,{children:"cors()"})," para configurar estas opciones f\xe1cilmente."]}),"\n",(0,i.jsx)(s.h3,{id:"reflexi\xf3n-final",children:"Reflexi\xf3n final"}),"\n",(0,i.jsx)(s.p,{children:"Cuidar la seguridad de una API es como poner cerraduras, c\xe1maras y reglas claras en la entrada de un edificio. Si no lo haces, cualquiera puede entrar y hacer da\xf1o. Pero si lo haces bien, no solo proteges tu aplicaci\xf3n: tambi\xe9n generas confianza en tus usuarios y evitas problemas futuros."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\xbfYa revisaste si tu API tiene estas protecciones activadas? \xbfQu\xe9 parte podr\xedas mejorar hoy mismo?"})})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,s,a)=>{a.d(s,{R:()=>o,x:()=>d});var n=a(6540);const i={},r=n.createContext(i);function o(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);