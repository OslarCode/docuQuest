"use strict";(globalThis.webpackChunkDocuQuest_oslar_code=globalThis.webpackChunkDocuQuest_oslar_code||[]).push([[7952],{1438:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"backend/databases/Aislamiento_y_anomalias","title":"Aislamiento y anomal\xedas","description":"21.1. Qu\xe9 significa \u201caislamiento\u201d realmente","source":"@site/docs/backend/databases/Aislamiento_y_anomalias.md","sourceDirName":"backend/databases","slug":"/backend/databases/Aislamiento_y_anomalias","permalink":"/docuQuest/docs/backend/databases/Aislamiento_y_anomalias","draft":false,"unlisted":false,"editUrl":"https://github.com/OslarCode/OslarCode/docs/backend/databases/Aislamiento_y_anomalias.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ACID sin humo","permalink":"/docuQuest/docs/backend/databases/ACID_sin_humo"},"next":{"title":"Modelo de privilegios m\xednimos","permalink":"/docuQuest/docs/backend/databases/Modelo_de_privilegios_minimos"}}');var a=s(4848),r=s(8453);const l={},c="Aislamiento y anomal\xedas",o={},t=[{value:"21.1. Qu\xe9 significa \u201caislamiento\u201d realmente",id:"211-qu\xe9-significa-aislamiento-realmente",level:2},{value:"21.2. Anomal\xedas cl\xe1sicas en concurrencia",id:"212-anomal\xedas-cl\xe1sicas-en-concurrencia",level:2},{value:"1. <strong>Lectura sucia</strong> (dirty read)",id:"1-lectura-sucia-dirty-read",level:3},{value:"2. <strong>Lectura no repetible</strong> (non-repeatable read)",id:"2-lectura-no-repetible-non-repeatable-read",level:3},{value:"3. <strong>Lectura fantasma</strong> (phantom read)",id:"3-lectura-fantasma-phantom-read",level:3},{value:"21.3. Niveles de aislamiento SQL est\xe1ndar",id:"213-niveles-de-aislamiento-sql-est\xe1ndar",level:2},{value:"21.4. Ejemplo pr\xe1ctico de lecturas sucias",id:"214-ejemplo-pr\xe1ctico-de-lecturas-sucias",level:2},{value:"21.5. Ejemplo de lectura no repetible",id:"215-ejemplo-de-lectura-no-repetible",level:2},{value:"21.6. Ejemplo de lectura fantasma",id:"216-ejemplo-de-lectura-fantasma",level:2},{value:"21.7. SERIALIZABLE \u2014 el nivel m\xe1s fuerte",id:"217-serializable--el-nivel-m\xe1s-fuerte",level:2},{value:"21.8. Idempotencia y reintentos: patr\xf3n fundamental",id:"218-idempotencia-y-reintentos-patr\xf3n-fundamental",level:2},{value:"21.9. Elecci\xf3n del nivel de aislamiento correcto",id:"219-elecci\xf3n-del-nivel-de-aislamiento-correcto",level:2},{value:"21.10. Buenas pr\xe1cticas con aislamiento",id:"2110-buenas-pr\xe1cticas-con-aislamiento",level:2},{value:"21.11. Errores comunes",id:"2111-errores-comunes",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"aislamiento-y-anomal\xedas",children:"Aislamiento y anomal\xedas"})}),"\n",(0,a.jsx)(n.h2,{id:"211-qu\xe9-significa-aislamiento-realmente",children:"21.1. Qu\xe9 significa \u201caislamiento\u201d realmente"}),"\n",(0,a.jsxs)(n.p,{children:["El aislamiento define ",(0,a.jsx)(n.strong,{children:"cu\xe1nto se \u201cven\u201d o \u201cno se ven\u201d las operaciones de una transacci\xf3n mientras otra est\xe1 ejecut\xe1ndose"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Ejemplo simple:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Transacci\xf3n A actualiza el stock de un producto."}),"\n",(0,a.jsxs)(n.li,{children:["Transacci\xf3n B lee el mismo producto al mismo tiempo.\nDependiendo del nivel de aislamiento, B:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"podr\xeda ver el valor viejo,"}),"\n",(0,a.jsx)(n.li,{children:"podr\xeda ver el valor nuevo,"}),"\n",(0,a.jsx)(n.li,{children:"o podr\xeda tener que esperar a que A termine."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Cuanto ",(0,a.jsx)(n.strong,{children:"mayor el aislamiento"}),", m\xe1s coherencia\u2026 pero tambi\xe9n m\xe1s bloqueos y menor rendimiento."]}),"\n",(0,a.jsx)(n.h2,{id:"212-anomal\xedas-cl\xe1sicas-en-concurrencia",children:"21.2. Anomal\xedas cl\xe1sicas en concurrencia"}),"\n",(0,a.jsxs)(n.h3,{id:"1-lectura-sucia-dirty-read",children:["1. ",(0,a.jsx)(n.strong,{children:"Lectura sucia"})," (dirty read)"]}),"\n",(0,a.jsxs)(n.p,{children:["Una transacci\xf3n ",(0,a.jsx)(n.strong,{children:"lee datos no confirmados"})," de otra transacci\xf3n."]}),"\n",(0,a.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["A: ",(0,a.jsx)(n.code,{children:"UPDATE producto SET stock = 0"})," (pero no hace COMMIT todav\xeda)."]}),"\n",(0,a.jsxs)(n.li,{children:["B: ",(0,a.jsx)(n.code,{children:"SELECT stock FROM producto"})," \u2192 ve ",(0,a.jsx)(n.code,{children:"0"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["A: ",(0,a.jsx)(n.code,{children:"ROLLBACK"}),".\nB ley\xf3 un valor ",(0,a.jsx)(n.strong,{children:"que nunca existi\xf3 oficialmente"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Esto puede causar efectos l\xf3gicos graves en flujos de negocio."}),"\n",(0,a.jsxs)(n.h3,{id:"2-lectura-no-repetible-non-repeatable-read",children:["2. ",(0,a.jsx)(n.strong,{children:"Lectura no repetible"})," (non-repeatable read)"]}),"\n",(0,a.jsxs)(n.p,{children:["Una transacci\xf3n lee el mismo dato dos veces y ",(0,a.jsx)(n.strong,{children:"obtiene resultados diferentes"})," porque otra transacci\xf3n lo modific\xf3 entre medias."]}),"\n",(0,a.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["A: ",(0,a.jsx)(n.code,{children:"SELECT stock FROM producto WHERE id = 1"})," \u2192 obtiene 10."]}),"\n",(0,a.jsxs)(n.li,{children:["B: ",(0,a.jsx)(n.code,{children:"UPDATE producto SET stock = 5 WHERE id = 1; COMMIT;"})]}),"\n",(0,a.jsxs)(n.li,{children:["A: ",(0,a.jsx)(n.code,{children:"SELECT stock FROM producto WHERE id = 1"})," \u2192 obtiene 5."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"A no tiene una visi\xf3n estable del dato durante su ejecuci\xf3n."}),"\n",(0,a.jsxs)(n.h3,{id:"3-lectura-fantasma-phantom-read",children:["3. ",(0,a.jsx)(n.strong,{children:"Lectura fantasma"})," (phantom read)"]}),"\n",(0,a.jsxs)(n.p,{children:["Una transacci\xf3n ejecuta la misma consulta dos veces y aparecen ",(0,a.jsx)(n.strong,{children:"nuevas filas"})," insertadas por otra transacci\xf3n."]}),"\n",(0,a.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["A: ",(0,a.jsx)(n.code,{children:"SELECT * FROM pedido WHERE estado = 'pendiente'"})," (devuelve 3 filas)."]}),"\n",(0,a.jsxs)(n.li,{children:["B: ",(0,a.jsx)(n.code,{children:"INSERT INTO pedido (estado) VALUES ('pendiente'); COMMIT;"})]}),"\n",(0,a.jsx)(n.li,{children:"A: ejecuta la misma SELECT otra vez \u2192 ahora hay 4 filas."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"No hubo cambios en los registros existentes, pero aparecieron \u201cfantasmas\u201d."}),"\n",(0,a.jsx)(n.h2,{id:"213-niveles-de-aislamiento-sql-est\xe1ndar",children:"21.3. Niveles de aislamiento SQL est\xe1ndar"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Nivel"}),(0,a.jsx)(n.th,{children:"Lectura sucia"}),(0,a.jsx)(n.th,{children:"No repetible"}),(0,a.jsx)(n.th,{children:"Fantasmas"}),(0,a.jsx)(n.th,{children:"Descripci\xf3n r\xe1pida"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"READ UNCOMMITTED"})}),(0,a.jsx)(n.td,{children:"\u274c Permitida"}),(0,a.jsx)(n.td,{children:"\u2705 Puede ocurrir"}),(0,a.jsx)(n.td,{children:"\u2705 Puede ocurrir"}),(0,a.jsx)(n.td,{children:"Aislamiento m\xednimo. Muy r\xe1pido pero peligroso."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"READ COMMITTED"})}),(0,a.jsx)(n.td,{children:"\u2705 Evitada"}),(0,a.jsx)(n.td,{children:"\u274c Puede ocurrir"}),(0,a.jsx)(n.td,{children:"\u274c Puede ocurrir"}),(0,a.jsx)(n.td,{children:"Garantiza no leer datos no confirmados."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"REPEATABLE READ"})}),(0,a.jsx)(n.td,{children:"\u2705 Evitada"}),(0,a.jsx)(n.td,{children:"\u2705 Evitada"}),(0,a.jsx)(n.td,{children:"\u274c Puede ocurrir"}),(0,a.jsx)(n.td,{children:"Mantiene valores estables pero pueden aparecer nuevas filas."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"SERIALIZABLE"})}),(0,a.jsx)(n.td,{children:"\u2705 Evitada"}),(0,a.jsx)(n.td,{children:"\u2705 Evitada"}),(0,a.jsx)(n.td,{children:"\u2705 Evitada"}),(0,a.jsx)(n.td,{children:"M\xe1xima consistencia, simula ejecuci\xf3n secuencial."})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["Nota: algunos motores (como PostgreSQL) tienen ligeras variantes en el comportamiento de ",(0,a.jsx)(n.code,{children:"REPEATABLE READ"})," y ",(0,a.jsx)(n.code,{children:"SERIALIZABLE"}),", pero los conceptos son los mismos."]}),"\n",(0,a.jsx)(n.h2,{id:"214-ejemplo-pr\xe1ctico-de-lecturas-sucias",children:"21.4. Ejemplo pr\xe1ctico de lecturas sucias"}),"\n",(0,a.jsx)(n.p,{children:"Imagina un sistema de stock."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Transacci\xf3n A\nBEGIN;\nUPDATE producto SET stock = 0 WHERE id = 1;\n-- (no hace COMMIT todav\xeda)\n\n-- Transacci\xf3n B\nSELECT stock FROM producto WHERE id = 1;\n\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Si B devuelve ",(0,a.jsx)(n.code,{children:"0"})," ",(0,a.jsx)(n.strong,{children:"antes de que A haga COMMIT"}),", hay una lectura sucia."]}),"\n",(0,a.jsxs)(n.p,{children:["Esto ocurre en ",(0,a.jsx)(n.strong,{children:"READ UNCOMMITTED"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Si la base est\xe1 en ",(0,a.jsx)(n.strong,{children:"READ COMMITTED"}),", B no ve ese cambio hasta que A confirme."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"SET TRANSACTION ISOLATION LEVEL READ COMMITTED;\n\n"})}),"\n",(0,a.jsx)(n.h2,{id:"215-ejemplo-de-lectura-no-repetible",children:"21.5. Ejemplo de lectura no repetible"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Transacci\xf3n A\nBEGIN;\nSELECT stock FROM producto WHERE id = 1; -- obtiene 10\n\n-- Transacci\xf3n B\nUPDATE producto SET stock = 5 WHERE id = 1;\nCOMMIT;\n\n-- Transacci\xf3n A\nSELECT stock FROM producto WHERE id = 1; -- obtiene 5\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"A no tiene una visi\xf3n estable de los datos."}),"\n",(0,a.jsx)(n.p,{children:"Esto es t\xedpico en READ COMMITTED."}),"\n",(0,a.jsxs)(n.p,{children:["Si us\xe1ramos REPEATABLE READ, A seguir\xeda viendo ",(0,a.jsx)(n.code,{children:"10"})," hasta que termine su transacci\xf3n."]}),"\n",(0,a.jsx)(n.h2,{id:"216-ejemplo-de-lectura-fantasma",children:"21.6. Ejemplo de lectura fantasma"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Transacci\xf3n A\nBEGIN;\nSELECT COUNT(*) FROM pedido WHERE estado = 'pendiente'; -- obtiene 3\n\n-- Transacci\xf3n B\nINSERT INTO pedido (estado) VALUES ('pendiente');\nCOMMIT;\n\n-- Transacci\xf3n A\nSELECT COUNT(*) FROM pedido WHERE estado = 'pendiente'; -- obtiene 4\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"A no esperaba que aparecieran nuevas filas durante su transacci\xf3n."}),"\n",(0,a.jsx)(n.p,{children:"Esto ocurre en REPEATABLE READ."}),"\n",(0,a.jsx)(n.p,{children:"Para evitarlo, habr\xeda que usar SERIALIZABLE."}),"\n",(0,a.jsx)(n.h2,{id:"217-serializable--el-nivel-m\xe1s-fuerte",children:"21.7. SERIALIZABLE \u2014 el nivel m\xe1s fuerte"}),"\n",(0,a.jsx)(n.p,{children:"En nivel SERIALIZABLE, la base de datos:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Detecta conflictos,"}),"\n",(0,a.jsx)(n.li,{children:"Bloquea accesos peligrosos,"}),"\n",(0,a.jsxs)(n.li,{children:["O aborta transacciones conflictivas para ",(0,a.jsx)(n.strong,{children:"mantener un orden secuencial l\xf3gico"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"No significa que realmente ejecute una transacci\xf3n detr\xe1s de otra,"}),"\n",(0,a.jsxs)(n.p,{children:["sino que ",(0,a.jsx)(n.strong,{children:"el resultado final es equivalente"})," a si lo hiciera."]}),"\n",(0,a.jsx)(n.p,{children:"Esto da m\xe1xima consistencia, pero:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Menor concurrencia,"}),"\n",(0,a.jsx)(n.li,{children:"M\xe1s bloqueos y posibles abortos autom\xe1ticos."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"218-idempotencia-y-reintentos-patr\xf3n-fundamental",children:"21.8. Idempotencia y reintentos: patr\xf3n fundamental"}),"\n",(0,a.jsx)(n.p,{children:"En niveles altos (especialmente SERIALIZABLE), algunas transacciones pueden abortar por conflictos."}),"\n",(0,a.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Dos usuarios reservan el \xfaltimo asiento."}),"\n",(0,a.jsx)(n.li,{children:"La base aborta una transacci\xf3n autom\xe1ticamente para mantener consistencia."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Tu aplicaci\xf3n debe estar preparada para ",(0,a.jsx)(n.strong,{children:"reintentar"})," la operaci\xf3n sin romper la l\xf3gica de negocio."]}),"\n",(0,a.jsxs)(n.p,{children:["Aqu\xed entra el concepto de ",(0,a.jsx)(n.strong,{children:"idempotencia"}),":"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Una operaci\xf3n idempotente puede ejecutarse varias veces sin alterar el resultado final."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Ejemplo t\xedpico:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u201cReservar asiento 10 para usuario X\u201d \u2192 si ya est\xe1 reservado, no cambia nada."}),"\n",(0,a.jsx)(n.li,{children:"\u201cAgregar producto al carrito\u201d \u2192 si ya existe, no duplica."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Patr\xf3n com\xfan:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"BEGIN;\n-- intentar la operaci\xf3n\nCOMMIT;\n-- si falla por conflicto -> rollback y reintentar\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"Esto es fundamental en sistemas de pagos, reservas, inventarios, etc."}),"\n",(0,a.jsx)(n.h2,{id:"219-elecci\xf3n-del-nivel-de-aislamiento-correcto",children:"21.9. Elecci\xf3n del nivel de aislamiento correcto"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Escenario t\xedpico"}),(0,a.jsx)(n.th,{children:"Nivel recomendado"}),(0,a.jsx)(n.th,{children:"Justificaci\xf3n"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Lecturas r\xe1pidas, informes, anal\xedtica"}),(0,a.jsx)(n.td,{children:"READ COMMITTED o menor"}),(0,a.jsx)(n.td,{children:"No se necesita consistencia estricta."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Backoffice con ediciones concurrentes"}),(0,a.jsx)(n.td,{children:"REPEATABLE READ"}),(0,a.jsx)(n.td,{children:"Evita inconsistencias en lecturas m\xfaltiples."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Transacciones cr\xedticas (pagos, reservas)"}),(0,a.jsx)(n.td,{children:"SERIALIZABLE"}),(0,a.jsx)(n.td,{children:"Garantiza consistencia total, aunque con m\xe1s coste."})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["No uses el nivel m\xe1s alto por defecto en toda la app: ",(0,a.jsx)(n.strong,{children:"aj\xfastalo al caso de uso"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"2110-buenas-pr\xe1cticas-con-aislamiento",children:"21.10. Buenas pr\xe1cticas con aislamiento"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Entiende las anomal\xedas y cu\xe1ndo pueden ocurrir."}),"\n",(0,a.jsxs)(n.li,{children:["Ajusta el nivel de aislamiento seg\xfan el ",(0,a.jsx)(n.strong,{children:"riesgo de inconsistencias"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"Dise\xf1a operaciones idempotentes para facilitar reintentos."}),"\n",(0,a.jsxs)(n.li,{children:["Mant\xe9n transacciones ",(0,a.jsx)(n.strong,{children:"cortas"})," para reducir bloqueos."]}),"\n",(0,a.jsxs)(n.li,{children:["Usa bloqueos expl\xedcitos (",(0,a.jsx)(n.code,{children:"SELECT ... FOR UPDATE"}),") si necesitas aislar filas espec\xedficas."]}),"\n",(0,a.jsx)(n.li,{children:"Controla bien la l\xf3gica de reintentos en la aplicaci\xf3n."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"2111-errores-comunes",children:"21.11. Errores comunes"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Asumir que \u201cusar transacciones\u201d ya evita todas las anomal\xedas."}),"\n",(0,a.jsx)(n.li,{children:"No saber qu\xe9 nivel de aislamiento usa el motor por defecto."}),"\n",(0,a.jsx)(n.li,{children:"Dejar transacciones abiertas demasiado tiempo \u2192 bloqueos en cascada."}),"\n",(0,a.jsx)(n.li,{children:"No implementar reintentos en niveles altos."}),"\n",(0,a.jsx)(n.li,{children:"No identificar operaciones que deber\xedan ser idempotentes."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(6540);const a={},r=i.createContext(a);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);