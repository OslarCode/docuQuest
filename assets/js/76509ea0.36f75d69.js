"use strict";(globalThis.webpackChunkDocuQuest_oslar_code=globalThis.webpackChunkDocuQuest_oslar_code||[]).push([[8446],{986:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"backend/apiWeb/monitoreo","title":"Pruebas de monitoreo de APIs web","description":"Una API es como un puente entre aplicaciones: permite que hablen y trabajen juntas. Pero para que este puente funcione bien, hay que comprobar que no tenga errores, que sea r\xe1pido y que pueda resistir el tr\xe1fico. Aqu\xed te explico de forma clara c\xf3mo probar tus APIs, c\xf3mo monitorearlas, y c\xf3mo manejar errores de manera profesional.","source":"@site/docs/backend/apiWeb/monitoreo.md","sourceDirName":"backend/apiWeb","slug":"/backend/apiWeb/monitoreo","permalink":"/docuQuest/docs/backend/apiWeb/monitoreo","draft":false,"unlisted":false,"editUrl":"https://github.com/OslarCode/OslarCode/docs/backend/apiWeb/monitoreo.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Seguridad APIs web","permalink":"/docuQuest/docs/backend/apiWeb/seguridad"}}');var o=a(4848),n=a(8453);const i={},t="Pruebas de monitoreo de APIs web",l={},c=[{value:"Probar tu API: detectar errores antes de que ocurran",id:"probar-tu-api-detectar-errores-antes-de-que-ocurran",level:2},{value:"Pruebas unitarias: revisar pieza por pieza",id:"pruebas-unitarias-revisar-pieza-por-pieza",level:3},{value:"Pruebas de integraci\xf3n: verificar el conjunto",id:"pruebas-de-integraci\xf3n-verificar-el-conjunto",level:3},{value:"Herramientas para probar y explorar APIs f\xe1cilmente",id:"herramientas-para-probar-y-explorar-apis-f\xe1cilmente",level:2},{value:"Postman: tu laboratorio de pruebas para APIs",id:"postman-tu-laboratorio-de-pruebas-para-apis",level:3},{value:"Insomnia: simple y potente",id:"insomnia-simple-y-potente",level:3},{value:"Monitorear el estado y rendimiento de tu API",id:"monitorear-el-estado-y-rendimiento-de-tu-api",level:2},{value:"Monitoreo: \xbftu API responde r\xe1pido y sin caerse?",id:"monitoreo-tu-api-responde-r\xe1pido-y-sin-caerse",level:3},{value:"Logs: el historial de lo que ocurre tras bambalinas",id:"logs-el-historial-de-lo-que-ocurre-tras-bambalinas",level:3},{value:"Manejo de errores: c\xf3mo fallar bien",id:"manejo-de-errores-c\xf3mo-fallar-bien",level:2},{value:"Errores claros y \xfatiles",id:"errores-claros-y-\xfatiles",level:3},{value:"Capturar y registrar errores",id:"capturar-y-registrar-errores",level:3},{value:"Capturar excepciones globalmente",id:"capturar-excepciones-globalmente",level:3},{value:"Conclusi\xf3n: mantener la calidad no es opcional",id:"conclusi\xf3n-mantener-la-calidad-no-es-opcional",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"pruebas-de-monitoreo-de-apis-web",children:"Pruebas de monitoreo de APIs web"})}),"\n",(0,o.jsx)(r.h1,{id:"c\xf3mo-asegurar-la-calidad-y-el-rendimiento-de-tus-apis-web",children:"C\xf3mo asegurar la calidad y el rendimiento de tus APIs web"}),"\n",(0,o.jsx)(r.p,{children:"Una API es como un puente entre aplicaciones: permite que hablen y trabajen juntas. Pero para que este puente funcione bien, hay que comprobar que no tenga errores, que sea r\xe1pido y que pueda resistir el tr\xe1fico. Aqu\xed te explico de forma clara c\xf3mo probar tus APIs, c\xf3mo monitorearlas, y c\xf3mo manejar errores de manera profesional."}),"\n",(0,o.jsx)(r.h2,{id:"probar-tu-api-detectar-errores-antes-de-que-ocurran",children:"Probar tu API: detectar errores antes de que ocurran"}),"\n",(0,o.jsx)(r.p,{children:"Probar una API significa asegurarte de que lo que deber\xeda funcionar, realmente lo hace. Para eso usamos dos tipos de pruebas: unitarias e integraci\xf3n."}),"\n",(0,o.jsx)(r.h3,{id:"pruebas-unitarias-revisar-pieza-por-pieza",children:"Pruebas unitarias: revisar pieza por pieza"}),"\n",(0,o.jsx)(r.p,{children:"Las pruebas unitarias son como revisar los tornillos de una bicicleta antes de montarla. En una API, se usan para probar funciones peque\xf1as, como si una ruta devuelve los datos correctos. Por ejemplo, si tienes una ruta que devuelve usuarios, una prueba unitaria verifica que efectivamente entregue un listado v\xe1lido."}),"\n",(0,o.jsxs)(r.p,{children:["Estas pruebas se escriben con herramientas como ",(0,o.jsx)(r.strong,{children:"Jest"}),", ",(0,o.jsx)(r.strong,{children:"Mocha"})," o ",(0,o.jsx)(r.strong,{children:"Chai"})," en JavaScript. Simulan llamadas HTTP y comparan la respuesta con lo que se espera."]}),"\n",(0,o.jsx)(r.h3,{id:"pruebas-de-integraci\xf3n-verificar-el-conjunto",children:"Pruebas de integraci\xf3n: verificar el conjunto"}),"\n",(0,o.jsxs)(r.p,{children:["Aqu\xed se prueba c\xf3mo se comporta todo el sistema cuando las piezas trabajan juntas: tu API, la base de datos y otros servicios. Por ejemplo, podr\xedas probar que al crear un usuario con ",(0,o.jsx)(r.code,{children:"POST /api/users"}),", ese usuario se guarda correctamente en la base de datos y se devuelve con el formato correcto."]}),"\n",(0,o.jsx)(r.p,{children:"Se suelen usar entornos de prueba que imitan el entorno real, para evitar sorpresas cuando pases a producci\xf3n."}),"\n",(0,o.jsx)(r.h2,{id:"herramientas-para-probar-y-explorar-apis-f\xe1cilmente",children:"Herramientas para probar y explorar APIs f\xe1cilmente"}),"\n",(0,o.jsxs)(r.p,{children:["A veces no necesitas escribir c\xf3digo para probar tu API: puedes usar herramientas visuales como ",(0,o.jsx)(r.strong,{children:"Postman"})," o ",(0,o.jsx)(r.strong,{children:"Insomnia"}),"."]}),"\n",(0,o.jsx)(r.h3,{id:"postman-tu-laboratorio-de-pruebas-para-apis",children:"Postman: tu laboratorio de pruebas para APIs"}),"\n",(0,o.jsx)(r.p,{children:"Postman te permite crear, enviar y guardar peticiones HTTP. Puedes hacer pruebas r\xe1pidas, automatizar escenarios y hasta documentar tus rutas. Tambi\xe9n puedes configurar entornos con variables como tokens o URLs."}),"\n",(0,o.jsxs)(r.p,{children:["Una ventaja clave: puedes escribir peque\xf1os scripts en JavaScript para validar respuestas, como asegurarte de que un ",(0,o.jsx)(r.code,{children:"GET /usuarios"})," devuelva estado 200 y una lista."]}),"\n",(0,o.jsx)(r.p,{children:"Adem\xe1s, Postman puede ejecutar estas pruebas cada cierto tiempo y avisarte si algo falla. Ideal para detectar errores antes que tus usuarios."}),"\n",(0,o.jsx)(r.h3,{id:"insomnia-simple-y-potente",children:"Insomnia: simple y potente"}),"\n",(0,o.jsx)(r.p,{children:"Insomnia es similar a Postman, pero m\xe1s ligero y con un dise\xf1o m\xe1s limpio. Tambi\xe9n permite guardar peticiones, hacer pruebas automatizadas y trabajar con APIs REST o GraphQL. Si prefieres velocidad y simplicidad, es una excelente opci\xf3n."}),"\n",(0,o.jsx)(r.h2,{id:"monitorear-el-estado-y-rendimiento-de-tu-api",children:"Monitorear el estado y rendimiento de tu API"}),"\n",(0,o.jsx)(r.p,{children:"Una vez que tu API est\xe1 en marcha, necesitas saber si sigue funcionando correctamente. Aqu\xed entran dos aliados: el monitoreo y los logs."}),"\n",(0,o.jsx)(r.h3,{id:"monitoreo-tu-api-responde-r\xe1pido-y-sin-caerse",children:"Monitoreo: \xbftu API responde r\xe1pido y sin caerse?"}),"\n",(0,o.jsx)(r.p,{children:"Monitorear es como tener un panel de control donde ves c\xf3mo va tu API: si responde r\xe1pido, si est\xe1 disponible o si se est\xe1 saturando."}),"\n",(0,o.jsxs)(r.p,{children:["Hay servicios como ",(0,o.jsx)(r.strong,{children:"Datadog"}),", ",(0,o.jsx)(r.strong,{children:"New Relic"})," o ",(0,o.jsx)(r.strong,{children:"Grafana"})," que permiten ver m\xe9tricas en tiempo real. Tambi\xe9n puedes programar pruebas de carga para ver c\xf3mo se comporta tu API cuando hay muchos usuarios conectados al mismo tiempo."]}),"\n",(0,o.jsx)(r.p,{children:"Todo esto ayuda a detectar cuellos de botella, ca\xeddas o problemas de velocidad."}),"\n",(0,o.jsx)(r.h3,{id:"logs-el-historial-de-lo-que-ocurre-tras-bambalinas",children:"Logs: el historial de lo que ocurre tras bambalinas"}),"\n",(0,o.jsx)(r.p,{children:"Los logs son registros de todo lo que pasa en tu aplicaci\xf3n. Guardan informaci\xf3n sobre qu\xe9 rutas se usaron, si hubo errores, qu\xe9 datos se enviaron, y m\xe1s."}),"\n",(0,o.jsx)(r.p,{children:"Son muy \xfatiles para entender por qu\xe9 algo fall\xf3. Por ejemplo, si un usuario te dice que no pudo guardar un juego, puedes revisar los logs para ver qu\xe9 pas\xf3 exactamente."}),"\n",(0,o.jsxs)(r.p,{children:["Herramientas como ",(0,o.jsx)(r.strong,{children:"ELK Stack (Elasticsearch, Logstash y Kibana)"}),", ",(0,o.jsx)(r.strong,{children:"Graylog"})," o ",(0,o.jsx)(r.strong,{children:"Sentry"})," te ayudan a agrupar, buscar y analizar estos registros f\xe1cilmente."]}),"\n",(0,o.jsx)(r.h2,{id:"manejo-de-errores-c\xf3mo-fallar-bien",children:"Manejo de errores: c\xf3mo fallar bien"}),"\n",(0,o.jsx)(r.p,{children:"En toda API pueden ocurrir errores. Lo importante es manejarlos con claridad y consistencia."}),"\n",(0,o.jsx)(r.h3,{id:"errores-claros-y-\xfatiles",children:"Errores claros y \xfatiles"}),"\n",(0,o.jsx)(r.p,{children:"Tu API debe responder con c\xf3digos HTTP est\xe1ndar para cada tipo de error:"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"400"}),": datos incorrectos (por ejemplo, falta un campo)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"401"}),": no autenticado"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"403"}),": sin permisos"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"404"}),": recurso no encontrado"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"500"}),": error interno del servidor"]}),"\n"]}),"\n",(0,o.jsx)(r.p,{children:"Adem\xe1s del c\xf3digo, incluye un mensaje claro y, si es posible, detalles \xfatiles para el desarrollador. Ejemplo:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-json",children:'{\n  "status": 400,\n  "message": "Faltan campos obligatorios",\n  "code": "MISSING_FIELDS",\n  "details": {\n    "required": ["email", "password"]\n  }\n}\n'})}),"\n",(0,o.jsx)(r.h3,{id:"capturar-y-registrar-errores",children:"Capturar y registrar errores"}),"\n",(0,o.jsxs)(r.p,{children:["Todos los errores deber\xedan registrarse autom\xe1ticamente. Puedes usar bibliotecas de logs, o servicios como ",(0,o.jsx)(r.strong,{children:"Sentry"})," o ",(0,o.jsx)(r.strong,{children:"Rollbar"})," para centralizarlos y recibir alertas."]}),"\n",(0,o.jsx)(r.h3,{id:"capturar-excepciones-globalmente",children:"Capturar excepciones globalmente"}),"\n",(0,o.jsxs)(r.p,{children:["Aseg\xfarate de envolver tu l\xf3gica en bloques ",(0,o.jsx)(r.code,{children:"try/catch"}),", y si algo se escapa, que tu API tenga un sistema global que lo capture y devuelva una respuesta coherente en lugar de que \u201cexplote\u201d."]}),"\n",(0,o.jsx)(r.h2,{id:"conclusi\xf3n-mantener-la-calidad-no-es-opcional",children:"Conclusi\xf3n: mantener la calidad no es opcional"}),"\n",(0,o.jsxs)(r.p,{children:["Una API funcional no es suficiente: debe ser ",(0,o.jsx)(r.strong,{children:"estable, confiable y comprensible"})," para quienes la consumen. Probarla bien, monitorearla en producci\xf3n y manejar errores con inteligencia son pasos fundamentales para lograrlo."]}),"\n",(0,o.jsx)(r.p,{children:"Todo esto no solo mejora la experiencia de los desarrolladores que usen tu API, sino que reduce fallos en producci\xf3n y te ayuda a escalar con confianza."}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\xbfY t\xfa? Ya sabes c\xf3mo programar una API\u2026 \xbfest\xe1s listo para asegurarte de que tambi\xe9n sea confiable y profesional?"})})]})}function u(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,r,a)=>{a.d(r,{R:()=>i,x:()=>t});var s=a(6540);const o={},n=s.createContext(o);function i(e){const r=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(n.Provider,{value:r},e.children)}}}]);