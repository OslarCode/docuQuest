"use strict";(globalThis.webpackChunkDocuQuest_oslar_code=globalThis.webpackChunkDocuQuest_oslar_code||[]).push([[7220],{3122:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"backend/Node.js/expressJS","title":"Express.js con ES Modules","description":"Introducci\xf3n","source":"@site/docs/backend/Node.js/expressJS.md","sourceDirName":"backend/Node.js","slug":"/backend/Node.js/expressJS","permalink":"/docuQuest/docs/backend/Node.js/expressJS","draft":false,"unlisted":false,"editUrl":"https://github.com/OslarCode/OslarCode/docs/backend/Node.js/expressJS.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Servidores Web con Node.js y ES Modules","permalink":"/docuQuest/docs/backend/Node.js/servidorWeb"},"next":{"title":"Testing y documentaci\xf3n en Node.js","permalink":"/docuQuest/docs/backend/Node.js/testingDocumentacion"}}');var o=s(4848),a=s(8453);const t={},i="Express.js con ES Modules",c={},d=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Configuraci\xf3n del Proyecto con ES Modules",id:"configuraci\xf3n-del-proyecto-con-es-modules",level:2},{value:"Instalaci\xf3n y Configuraci\xf3n Inicial",id:"instalaci\xf3n-y-configuraci\xf3n-inicial",level:3},{value:"Tu Primer Servidor con Express y ES Modules",id:"tu-primer-servidor-con-express-y-es-modules",level:2},{value:"An\xe1lisis del Servidor B\xe1sico",id:"an\xe1lisis-del-servidor-b\xe1sico",level:3},{value:"Probando el Servidor B\xe1sico",id:"probando-el-servidor-b\xe1sico",level:3},{value:"Crear y Consumir una API REST Completa",id:"crear-y-consumir-una-api-rest-completa",level:2},{value:"Caracter\xedsticas de esta API REST",id:"caracter\xedsticas-de-esta-api-rest",level:3},{value:"Probando la API REST",id:"probando-la-api-rest",level:3},{value:"Middleware para Servir Contenido Est\xe1tico",id:"middleware-para-servir-contenido-est\xe1tico",level:2},{value:"Estructura de Carpetas para Contenido Est\xe1tico",id:"estructura-de-carpetas-para-contenido-est\xe1tico",level:3},{value:"Servidor Express Completo con Persistencia en Archivos",id:"servidor-express-completo-con-persistencia-en-archivos",level:2},{value:"Migraci\xf3n desde el M\xf3dulo Anterior",id:"migraci\xf3n-desde-el-m\xf3dulo-anterior",level:2},{value:"Antes (HTTP Nativo)",id:"antes-http-nativo",level:3},{value:"Despu\xe9s (Express con ES Modules)",id:"despu\xe9s-express-con-es-modules",level:3},{value:"Ventajas de Express",id:"ventajas-de-express",level:3},{value:"\xbfQu\xe9 Has Aprendido en Este M\xf3dulo?",id:"qu\xe9-has-aprendido-en-este-m\xf3dulo",level:2},{value:"Conceptos Fundamentales de Express",id:"conceptos-fundamentales-de-express",level:3},{value:"Desarrollo de APIs REST",id:"desarrollo-de-apis-rest",level:3},{value:"Middlewares y Caracter\xedsticas Avanzadas",id:"middlewares-y-caracter\xedsticas-avanzadas",level:3},{value:"Persistencia de Datos y Estructura",id:"persistencia-de-datos-y-estructura",level:3},{value:"Buenas Pr\xe1cticas y Producci\xf3n",id:"buenas-pr\xe1cticas-y-producci\xf3n",level:3},{value:"Recursos Adicionales",id:"recursos-adicionales",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"expressjs-con-es-modules",children:"Express.js con ES Modules"})}),"\n",(0,o.jsx)(n.h2,{id:"introducci\xf3n",children:"Introducci\xf3n"}),"\n",(0,o.jsxs)(n.p,{children:["Despu\xe9s de aprender a manejar rutas, peticiones y respuestas manualmente con el m\xf3dulo ",(0,o.jsx)(n.code,{children:"http"})," nativo de Node.js, llega el momento de simplificar el desarrollo con ",(0,o.jsx)(n.strong,{children:"Express.js"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Express es un ",(0,o.jsx)(n.strong,{children:"framework web minimalista y flexible"})," que facilita la creaci\xf3n de aplicaciones web y APIs REST. Con Express puedes:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Definir rutas de manera clara y concisa"}),"\n",(0,o.jsx)(n.li,{children:"Trabajar con middlewares para validaci\xf3n, autenticaci\xf3n, logging, etc."}),"\n",(0,o.jsx)(n.li,{children:"Servir contenido est\xe1tico de forma autom\xe1tica"}),"\n",(0,o.jsx)(n.li,{children:"Crear APIs REST completas con pocas l\xedneas de c\xf3digo"}),"\n",(0,o.jsx)(n.li,{children:"Integrar f\xe1cilmente bases de datos, motores de plantillas o librer\xedas externas"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"La ventaja principal de Express es que abstrae la complejidad del m\xf3dulo HTTP nativo, permiti\xe9ndote concentrarte en la l\xf3gica de tu aplicaci\xf3n."}),"\n",(0,o.jsx)(n.h2,{id:"configuraci\xf3n-del-proyecto-con-es-modules",children:"Configuraci\xf3n del Proyecto con ES Modules"}),"\n",(0,o.jsx)(n.h3,{id:"instalaci\xf3n-y-configuraci\xf3n-inicial",children:"Instalaci\xf3n y Configuraci\xf3n Inicial"}),"\n",(0,o.jsx)(n.p,{children:"Primero, necesitamos crear un proyecto Node.js configurado para usar ES Modules:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Crear un nuevo directorio para el proyecto\nmkdir mi-proyecto-express\ncd mi-proyecto-express\n\n# Inicializar package.json con ES Modules\nnpm init -y\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Edita el archivo ",(0,o.jsx)(n.code,{children:"package.json"})," generado para habilitar ES Modules:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "name": "mi-proyecto-express",\n  "version": "1.0.0",\n  "type": "module",\n  "description": "Proyecto Express con ES Modules",\n  "main": "server.js",\n  "scripts": {\n    "start": "node server.js",\n    "dev": "node --watch server.js"\n  },\n  "dependencies": {\n    "express": "^4.18.0"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Ahora instala Express:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install express\n"})}),"\n",(0,o.jsx)(n.h2,{id:"tu-primer-servidor-con-express-y-es-modules",children:"Tu Primer Servidor con Express y ES Modules"}),"\n",(0,o.jsx)(n.p,{children:"Vamos a crear un servidor b\xe1sico con Express usando la sintaxis de ES Modules:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'// server.js\n\n// Importamos el framework Express usando ES Modules\n// En lugar de require(\'express\'), usamos import\nimport express from "express";\n\n// Creamos una instancia de la aplicaci\xf3n de Express\n// Esta instancia ser\xe1 el n\xfacleo de nuestra aplicaci\xf3n web\nconst app = express();\n\n// Definimos el puerto en el que se ejecutar\xe1 el servidor\n// Usamos process.env.PORT para compatibilidad con servicios de despliegue\nconst PORT = process.env.PORT || 3000;\n\n// Middleware para que Express pueda interpretar cuerpos de tipo JSON en peticiones\n// Esto es esencial para manejar POST, PUT, PATCH, etc.\n// Sin este middleware, req.body ser\xeda undefined\napp.use(express.json());\n\n// Ruta GET para la ra\xedz ("/")\n// Cuando el usuario visita la p\xe1gina principal, respondemos con HTML simple\n// app.get() define una ruta para peticiones GET\napp.get("/", (req, res) => {\n  // res.send() env\xeda una respuesta y determina autom\xe1ticamente el Content-Type\n  res.send("<h1>Bienvenido a mi servidor con Express y ES Modules</h1>");\n});\n\n// Ruta GET para la API ("/api/hola")\n// Devuelve un objeto JSON como respuesta, ideal para una API REST\napp.get("/api/hola", (req, res) => {\n  // res.json() convierte autom\xe1ticamente el objeto a JSON\n  // y establece el Content-Type a application/json\n  res.json({\n    mensaje: "Hola desde Express con ES Modules",\n    timestamp: new Date().toISOString(),\n    version: "1.0.0",\n  });\n});\n\n// Ruta GET para informaci\xf3n del servidor\napp.get("/api/info", (req, res) => {\n  res.json({\n    servidor: "Express con ES Modules",\n    nodeVersion: process.version,\n    plataforma: process.platform,\n    memoria: process.memoryUsage(),\n  });\n});\n\n// Inicia el servidor en el puerto especificado\n// El callback se ejecuta una vez que el servidor est\xe1 corriendo\napp.listen(PORT, () => {\n  console.log(`Servidor Express ejecut\xe1ndose en http://localhost:${PORT}`);\n  console.log("Endpoints disponibles:");\n  console.log(`  GET http://localhost:${PORT}/ - P\xe1gina principal`);\n  console.log(`  GET http://localhost:${PORT}/api/hola - API de saludo`);\n  console.log(\n    `  GET http://localhost:${PORT}/api/info - Informaci\xf3n del servidor`\n  );\n});\n'})}),"\n",(0,o.jsx)(n.h3,{id:"an\xe1lisis-del-servidor-b\xe1sico",children:"An\xe1lisis del Servidor B\xe1sico"}),"\n",(0,o.jsx)(n.p,{children:"Este servidor Express demuestra varias caracter\xedsticas fundamentales:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Importaci\xf3n con ES Modules"}),": Usamos ",(0,o.jsx)(n.code,{children:"import express from 'express'"})," en lugar de ",(0,o.jsx)(n.code,{children:"const express = require('express')"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Instancia de aplicaci\xf3n"}),": ",(0,o.jsx)(n.code,{children:"const app = express()"})," crea nuestra aplicaci\xf3n web"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Middleware JSON"}),": ",(0,o.jsx)(n.code,{children:"app.use(express.json())"})," permite procesar cuerpos de peticiones JSON"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Definici\xf3n de rutas"}),": Usamos ",(0,o.jsx)(n.code,{children:"app.get()"})," para definir endpoints GET"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"M\xe9todos de respuesta"}),": ",(0,o.jsx)(n.code,{children:"res.send()"})," para HTML/texto, ",(0,o.jsx)(n.code,{children:"res.json()"})," para JSON"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Inicio del servidor"}),": ",(0,o.jsx)(n.code,{children:"app.listen()"})," inicia el servidor en el puerto especificado"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"probando-el-servidor-b\xe1sico",children:"Probando el Servidor B\xe1sico"}),"\n",(0,o.jsx)(n.p,{children:"Ejecuta el servidor:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"node server.js\n"})}),"\n",(0,o.jsx)(n.p,{children:"Visita las siguientes URLs en tu navegador o usa herramientas como curl o Postman:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"http://localhost:3000/"})," - P\xe1gina principal HTML"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"http://localhost:3000/api/hola"})," - Endpoint API JSON"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"http://localhost:3000/api/info"})," - Informaci\xf3n del servidor"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"crear-y-consumir-una-api-rest-completa",children:"Crear y Consumir una API REST Completa"}),"\n",(0,o.jsx)(n.p,{children:"Vamos a implementar una API REST completa para gestionar proyectos, similar a la del m\xf3dulo anterior pero con Express y ES Modules:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'// api-proyectos.js\n\nimport express from "express";\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Middleware para parsing JSON\napp.use(express.json());\n\n// Base de datos en memoria (simulada)\n// En una aplicaci\xf3n real, esto estar\xeda en una base de datos persistente\nlet proyectos = [\n  {\n    id: 1,\n    titulo: "Gestor de tareas",\n    descripcion:\n      "Aplicaci\xf3n de gesti\xf3n de tareas construida con Node.js y Express",\n    estado: "activo",\n    fechaCreacion: new Date("2024-01-15").toISOString(),\n  },\n  {\n    id: 2,\n    titulo: "Wiki retro",\n    descripcion: "Sistema wiki estilo a\xf1os 90 con HTML, CSS y JavaScript puros",\n    estado: "activo",\n    fechaCreacion: new Date("2024-01-20").toISOString(),\n  },\n  {\n    id: 3,\n    titulo: "API REST con Express",\n    descripcion: "Implementaci\xf3n de API REST completa usando Express.js",\n    estado: "completado",\n    fechaCreacion: new Date("2024-02-01").toISOString(),\n  },\n];\n\n// Ruta GET para obtener todos los proyectos\n// Este endpoint devuelve la lista completa de proyectos\napp.get("/api/proyectos", (req, res) => {\n  // Podemos a\xf1adir filtros opcionales via query parameters\n  const { estado, busqueda } = req.query;\n\n  let proyectosFiltrados = proyectos;\n\n  // Filtrar por estado si se proporciona\n  if (estado) {\n    proyectosFiltrados = proyectosFiltrados.filter((p) => p.estado === estado);\n  }\n\n  // Filtrar por b\xfasqueda en t\xedtulo o descripci\xf3n\n  if (busqueda) {\n    const termino = busqueda.toLowerCase();\n    proyectosFiltrados = proyectosFiltrados.filter(\n      (p) =>\n        p.titulo.toLowerCase().includes(termino) ||\n        p.descripcion.toLowerCase().includes(termino)\n    );\n  }\n\n  res.json({\n    success: true,\n    data: proyectosFiltrados,\n    total: proyectosFiltrados.length,\n    filtros: { estado, busqueda },\n  });\n});\n\n// Ruta GET para obtener un proyecto espec\xedfico por ID\n// Los :id indica un par\xe1metro de ruta\napp.get("/api/proyectos/:id", (req, res) => {\n  const id = parseInt(req.params.id);\n\n  // Validar que el ID sea un n\xfamero v\xe1lido\n  if (isNaN(id)) {\n    return res.status(400).json({\n      success: false,\n      error: "ID debe ser un n\xfamero v\xe1lido",\n    });\n  }\n\n  const proyecto = proyectos.find((p) => p.id === id);\n\n  if (!proyecto) {\n    return res.status(404).json({\n      success: false,\n      error: "Proyecto no encontrado",\n    });\n  }\n\n  res.json({\n    success: true,\n    data: proyecto,\n  });\n});\n\n// Ruta POST para crear un nuevo proyecto\n// El cliente debe enviar un objeto JSON con "titulo" y "descripcion"\napp.post("/api/proyectos", (req, res) => {\n  // Extraemos los datos del cuerpo de la petici\xf3n\n  const { titulo, descripcion, estado = "activo" } = req.body;\n\n  // Validaci\xf3n de campos obligatorios\n  if (!titulo || !descripcion) {\n    return res.status(400).json({\n      success: false,\n      error: \'Los campos "titulo" y "descripcion" son obligatorios\',\n    });\n  }\n\n  // Validar longitud m\xednima\n  if (titulo.length < 3) {\n    return res.status(400).json({\n      success: false,\n      error: "El t\xedtulo debe tener al menos 3 caracteres",\n    });\n  }\n\n  // Crear nuevo proyecto con ID \xfanico\n  const nuevoProyecto = {\n    id: Date.now(), // ID \xfanico basado en timestamp\n    titulo: titulo.trim(),\n    descripcion: descripcion.trim(),\n    estado: estado,\n    fechaCreacion: new Date().toISOString(),\n  };\n\n  // Agregar a la "base de datos"\n  proyectos.push(nuevoProyecto);\n\n  // Responder con estado 201 (Created) y el nuevo proyecto\n  res.status(201).json({\n    success: true,\n    message: "Proyecto creado exitosamente",\n    data: nuevoProyecto,\n  });\n});\n\n// Ruta PUT para actualizar un proyecto existente\napp.put("/api/proyectos/:id", (req, res) => {\n  const id = parseInt(req.params.id);\n\n  if (isNaN(id)) {\n    return res.status(400).json({\n      success: false,\n      error: "ID debe ser un n\xfamero v\xe1lido",\n    });\n  }\n\n  const proyectoIndex = proyectos.findIndex((p) => p.id === id);\n\n  if (proyectoIndex === -1) {\n    return res.status(404).json({\n      success: false,\n      error: "Proyecto no encontrado",\n    });\n  }\n\n  const { titulo, descripcion, estado } = req.body;\n\n  // Actualizar solo los campos proporcionados\n  if (titulo !== undefined) {\n    if (titulo.length < 3) {\n      return res.status(400).json({\n        success: false,\n        error: "El t\xedtulo debe tener al menos 3 caracteres",\n      });\n    }\n    proyectos[proyectoIndex].titulo = titulo.trim();\n  }\n\n  if (descripcion !== undefined) {\n    proyectos[proyectoIndex].descripcion = descripcion.trim();\n  }\n\n  if (estado !== undefined) {\n    proyectos[proyectoIndex].estado = estado;\n  }\n\n  proyectos[proyectoIndex].fechaActualizacion = new Date().toISOString();\n\n  res.json({\n    success: true,\n    message: "Proyecto actualizado exitosamente",\n    data: proyectos[proyectoIndex],\n  });\n});\n\n// Ruta DELETE para eliminar un proyecto\napp.delete("/api/proyectos/:id", (req, res) => {\n  const id = parseInt(req.params.id);\n\n  if (isNaN(id)) {\n    return res.status(400).json({\n      success: false,\n      error: "ID debe ser un n\xfamero v\xe1lido",\n    });\n  }\n\n  const proyectoIndex = proyectos.findIndex((p) => p.id === id);\n\n  if (proyectoIndex === -1) {\n    return res.status(404).json({\n      success: false,\n      error: "Proyecto no encontrado",\n    });\n  }\n\n  // Eliminar el proyecto del array\n  const proyectoEliminado = proyectos.splice(proyectoIndex, 1)[0];\n\n  res.json({\n    success: true,\n    message: "Proyecto eliminado exitosamente",\n    data: proyectoEliminado,\n  });\n});\n\n// Iniciar el servidor\napp.listen(PORT, () => {\n  console.log(`API de Proyectos ejecut\xe1ndose en http://localhost:${PORT}`);\n  console.log("Endpoints CRUD disponibles:");\n  console.log("  GET    /api/proyectos          - Listar todos los proyectos");\n  console.log("  GET    /api/proyectos/:id      - Obtener proyecto espec\xedfico");\n  console.log("  POST   /api/proyectos          - Crear nuevo proyecto");\n  console.log("  PUT    /api/proyectos/:id      - Actualizar proyecto");\n  console.log("  DELETE /api/proyectos/:id      - Eliminar proyecto");\n});\n'})}),"\n",(0,o.jsx)(n.h3,{id:"caracter\xedsticas-de-esta-api-rest",children:"Caracter\xedsticas de esta API REST"}),"\n",(0,o.jsx)(n.p,{children:"Esta implementaci\xf3n incluye:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Operaciones CRUD completas"}),": Create, Read, Update, Delete"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validaci\xf3n de datos"}),": Verificaci\xf3n de campos obligatorios y validaciones"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manejo de errores"}),": Respuestas apropiadas para diferentes escenarios de error"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Filtros y b\xfasqueda"}),": Par\xe1metros de consulta para filtrar resultados"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"C\xf3digos de estado HTTP"}),": Uso apropiado de 200, 201, 400, 404"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Estructura de respuesta consistente"}),": Formato uniforme para todas las respuestas"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"probando-la-api-rest",children:"Probando la API REST"}),"\n",(0,o.jsx)(n.p,{children:"Puedes probar la API usando curl, Postman, o cualquier cliente HTTP:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Obtener todos los proyectos\ncurl http://localhost:3000/api/proyectos\n\n# Obtener proyectos filtrados por estado\ncurl "http://localhost:3000/api/proyectos?estado=activo"\n\n# Buscar proyectos\ncurl "http://localhost:3000/api/proyectos?busqueda=wiki"\n\n# Obtener un proyecto espec\xedfico\ncurl http://localhost:3000/api/proyectos/1\n\n# Crear un nuevo proyecto\ncurl -X POST http://localhost:3000/api/proyectos \\\n  -H "Content-Type: application/json" \\\n  -d \'{"titulo":"Nuevo Proyecto","descripcion":"Descripci\xf3n del nuevo proyecto"}\'\n\n# Actualizar un proyecto\ncurl -X PUT http://localhost:3000/api/proyectos/1 \\\n  -H "Content-Type: application/json" \\\n  -d \'{"titulo":"T\xedtulo Actualizado"}\'\n\n# Eliminar un proyecto\ncurl -X DELETE http://localhost:3000/api/proyectos/1\n'})}),"\n",(0,o.jsx)(n.h2,{id:"middleware-para-servir-contenido-est\xe1tico",children:"Middleware para Servir Contenido Est\xe1tico"}),"\n",(0,o.jsx)(n.p,{children:"Express simplifica enormemente el servicio de archivos est\xe1ticos. Vamos a crear un servidor que sirva archivos HTML, CSS, JavaScript e im\xe1genes:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'// servidor-estatico.js\n\nimport express from "express";\nimport path from "path";\nimport { fileURLToPath } from "url";\n\n// En ES Modules, necesitamos obtener __dirname manualmente\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Middleware para parsing JSON\napp.use(express.json());\n\n// Middleware para servir archivos est\xe1ticos desde la carpeta \'public\'\n// express.static() configura el servidor para servir archivos est\xe1ticos autom\xe1ticamente\napp.use(express.static(path.join(__dirname, "public")));\n\n// Tambi\xe9n podemos servir m\xfaltiples carpetas est\xe1ticas\napp.use("/assets", express.static(path.join(__dirname, "assets")));\n\n// Ruta adicional para la p\xe1gina principal\n// Aunque express.static sirve index.html autom\xe1ticamente,\n// podemos definir rutas personalizadas tambi\xe9n\napp.get("/", (req, res) => {\n  res.sendFile(path.join(__dirname, "public", "index.html"));\n});\n\n// Ruta de API que coexiste con el contenido est\xe1tico\napp.get("/api/status", (req, res) => {\n  res.json({\n    status: "servidor funcionando",\n    timestamp: new Date().toISOString(),\n    version: "1.0.0",\n  });\n});\n\n// Manejo de rutas no encontradas (404)\n// Este middleware se ejecuta cuando ninguna ruta coincide\napp.use("*", (req, res) => {\n  // Si el cliente acepta JSON, devolvemos error en JSON\n  if (req.headers.accept && req.headers.accept.includes("application/json")) {\n    return res.status(404).json({\n      success: false,\n      error: "Endpoint no encontrado",\n      path: req.originalUrl,\n    });\n  }\n\n  // Si no, servimos una p\xe1gina HTML de error\n  res.status(404).sendFile(path.join(__dirname, "public", "404.html"));\n});\n\n// Manejo global de errores\n// Este middleware captura cualquier error no manejado\napp.use((err, req, res, next) => {\n  console.error("Error del servidor:", err);\n\n  res.status(500).json({\n    success: false,\n    error: "Error interno del servidor",\n    message:\n      process.env.NODE_ENV === "development" ? err.message : "Algo sali\xf3 mal",\n  });\n});\n\napp.listen(PORT, () => {\n  console.log(`Servidor de archivos est\xe1ticos en http://localhost:${PORT}`);\n  console.log("Archivos servidos desde: " + path.join(__dirname, "public"));\n});\n'})}),"\n",(0,o.jsx)(n.h3,{id:"estructura-de-carpetas-para-contenido-est\xe1tico",children:"Estructura de Carpetas para Contenido Est\xe1tico"}),"\n",(0,o.jsx)(n.p,{children:"Crea la siguiente estructura de archivos para probar el servidor est\xe1tico:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"proyecto-express/\n\u251c\u2500\u2500 server.js\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 public/\n\u2502   \u251c\u2500\u2500 index.html\n\u2502   \u251c\u2500\u2500 404.html\n\u2502   \u251c\u2500\u2500 estilo.css\n\u2502   \u2514\u2500\u2500 script.js\n\u2514\u2500\u2500 assets/\n    \u251c\u2500\u2500 images/\n    \u2514\u2500\u2500 downloads/\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"public/index.html"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="es">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Servidor Express con Archivos Est\xe1ticos</title>\n    <link rel="stylesheet" href="/estilo.css" />\n  </head>\n  <body>\n    <div class="container">\n      <header>\n        <h1>Express con ES Modules</h1>\n        <p>Servidor de archivos est\xe1ticos</p>\n      </header>\n\n      <nav>\n        <a href="/">Inicio</a>\n        <a href="/api/status">Status API</a>\n        <a href="/ruta-inexistente">Error 404</a>\n      </nav>\n\n      <main>\n        <section>\n          <h2>Caracter\xedsticas</h2>\n          <ul>\n            <li>Servicio autom\xe1tico de archivos est\xe1ticos</li>\n            <li>Middleware para parsing JSON</li>\n            <li>Manejo de errores personalizado</li>\n            <li>ES Modules en lugar de CommonJS</li>\n          </ul>\n        </section>\n\n        <section>\n          <h2>Probando la API</h2>\n          <button id="btnStatus">Ver Status del Servidor</button>\n          <div id="resultado"></div>\n        </section>\n      </main>\n    </div>\n\n    <script src="/script.js"><\/script>\n  </body>\n</html>\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"public/estilo.css"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-css",children:'* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  line-height: 1.6;\n  color: #333;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  min-height: 100vh;\n}\n\n.container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\nheader {\n  background: white;\n  padding: 40px;\n  border-radius: 10px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  text-align: center;\n  margin-bottom: 30px;\n}\n\nh1 {\n  color: #2c3e50;\n  margin-bottom: 10px;\n}\n\nnav {\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n  margin-bottom: 30px;\n}\n\nnav a {\n  text-decoration: none;\n  color: #3498db;\n  padding: 12px 24px;\n  border: 2px solid #3498db;\n  border-radius: 25px;\n  transition: all 0.3s ease;\n}\n\nnav a:hover {\n  background-color: #3498db;\n  color: white;\n}\n\nmain {\n  background: white;\n  padding: 30px;\n  border-radius: 10px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\nsection {\n  margin-bottom: 30px;\n}\n\nsection h2 {\n  color: #2c3e50;\n  margin-bottom: 15px;\n  border-bottom: 2px solid #ecf0f1;\n  padding-bottom: 10px;\n}\n\nul {\n  list-style: none;\n}\n\nli {\n  padding: 8px 0;\n  border-bottom: 1px solid #ecf0f1;\n}\n\nli:before {\n  content: "\u2713 ";\n  color: #27ae60;\n  font-weight: bold;\n}\n\nbutton {\n  background: #3498db;\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background 0.3s ease;\n}\n\nbutton:hover {\n  background: #2980b9;\n}\n\n#resultado {\n  margin-top: 15px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 5px;\n  border-left: 4px solid #3498db;\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"public/script.js"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'// JavaScript del lado del cliente\ndocument.addEventListener("DOMContentLoaded", function () {\n  console.log("P\xe1gina cargada - Servidor Express con ES Modules");\n\n  const btnStatus = document.getElementById("btnStatus");\n  const resultado = document.getElementById("resultado");\n\n  if (btnStatus && resultado) {\n    btnStatus.addEventListener("click", async function () {\n      try {\n        const response = await fetch("/api/status");\n        const data = await response.json();\n\n        resultado.innerHTML = `\n                    <h3>Status del Servidor:</h3>\n                    <p><strong>Estado:</strong> ${data.status}</p>\n                    <p><strong>Versi\xf3n:</strong> ${data.version}</p>\n                    <p><strong>Timestamp:</strong> ${new Date(\n                      data.timestamp\n                    ).toLocaleString()}</p>\n                `;\n      } catch (error) {\n        resultado.innerHTML = `<p style="color: red;">Error al obtener el status: ${error.message}</p>`;\n      }\n    });\n  }\n\n  // Navegaci\xf3n suave para enlaces internos\n  document.querySelectorAll("nav a").forEach((enlace) => {\n    enlace.addEventListener("click", function (e) {\n      if (this.getAttribute("href").startsWith("/api/")) {\n        return; // No prevenir comportamiento por defecto en enlaces de API\n      }\n\n      const href = this.getAttribute("href");\n      if (href !== "/" && !href.startsWith("http")) {\n        e.preventDefault();\n        // Aqu\xed podr\xedamos a\xf1adir una transici\xf3n suave\n        window.location.href = href;\n      }\n    });\n  });\n});\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"public/404.html"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="es">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>P\xe1gina No Encontrada - Error 404</title>\n    <link rel="stylesheet" href="/estilo.css" />\n  </head>\n  <body>\n    <div class="container">\n      <header>\n        <h1>Error 404</h1>\n        <p>P\xe1gina no encontrada</p>\n      </header>\n\n      <main style="text-align: center;">\n        <section>\n          <h2>Lo sentimos</h2>\n          <p>La p\xe1gina que buscas no existe en este servidor.</p>\n          <p>Puede que la URL sea incorrecta o la p\xe1gina haya sido movida.</p>\n\n          <div style="margin-top: 30px;">\n            <a\n              href="/"\n              style="display: inline-block; padding: 12px 24px; background: #3498db; color: white; text-decoration: none; border-radius: 5px;"\n            >\n              Volver a la P\xe1gina Principal\n            </a>\n          </div>\n        </section>\n      </main>\n    </div>\n  </body>\n</html>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"servidor-express-completo-con-persistencia-en-archivos",children:"Servidor Express Completo con Persistencia en Archivos"}),"\n",(0,o.jsx)(n.p,{children:"Ahora vamos a crear un servidor Express completo que combine todo lo aprendido, incluyendo persistencia de datos en archivos JSON:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'// servidor-completo.js\n\nimport express from "express";\nimport fs from "fs/promises";\nimport path from "path";\nimport { fileURLToPath } from "url";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Rutas de archivos\nconst RUTA_PROYECTOS = path.join(__dirname, "data", "proyectos.json");\nconst RUTA_LOGS = path.join(__dirname, "logs", "servidor.log");\n\n// Middlewares\napp.use(express.json());\napp.use(express.static(path.join(__dirname, "public")));\n\n// Middleware personalizado para logging\napp.use(async (req, res, next) => {\n  const logEntry = `[${new Date().toISOString()}] ${req.method} ${req.url} - ${\n    req.ip\n  }\\n`;\n\n  try {\n    await fs.mkdir(path.dirname(RUTA_LOGS), { recursive: true });\n    await fs.appendFile(RUTA_LOGS, logEntry, "utf8");\n  } catch (error) {\n    console.error("Error escribiendo log:", error);\n  }\n\n  console.log(logEntry.trim());\n  next();\n});\n\n// Clase para manejar la persistencia de proyectos\nclass GestorProyectos {\n  constructor(rutaArchivo) {\n    this.rutaArchivo = rutaArchivo;\n  }\n\n  async cargarProyectos() {\n    try {\n      await fs.mkdir(path.dirname(this.rutaArchivo), { recursive: true });\n      const datos = await fs.readFile(this.rutaArchivo, "utf8");\n      return JSON.parse(datos);\n    } catch (error) {\n      if (error.code === "ENOENT") {\n        // Si el archivo no existe, devolvemos array vac\xedo\n        return [];\n      }\n      throw error;\n    }\n  }\n\n  async guardarProyectos(proyectos) {\n    await fs.writeFile(\n      this.rutaArchivo,\n      JSON.stringify(proyectos, null, 2),\n      "utf8"\n    );\n  }\n\n  async obtenerTodos(filtros = {}) {\n    let proyectos = await this.cargarProyectos();\n\n    // Aplicar filtros\n    if (filtros.estado) {\n      proyectos = proyectos.filter((p) => p.estado === filtros.estado);\n    }\n\n    if (filtros.busqueda) {\n      const termino = filtros.busqueda.toLowerCase();\n      proyectos = proyectos.filter(\n        (p) =>\n          p.titulo.toLowerCase().includes(termino) ||\n          p.descripcion.toLowerCase().includes(termino)\n      );\n    }\n\n    return proyectos;\n  }\n\n  async obtenerPorId(id) {\n    const proyectos = await this.cargarProyectos();\n    return proyectos.find((p) => p.id === id);\n  }\n\n  async crear(proyectoData) {\n    const proyectos = await this.cargarProyectos();\n    const nuevoProyecto = {\n      id: Date.now(),\n      ...proyectoData,\n      fechaCreacion: new Date().toISOString(),\n    };\n\n    proyectos.push(nuevoProyecto);\n    await this.guardarProyectos(proyectos);\n    return nuevoProyecto;\n  }\n\n  async actualizar(id, datosActualizacion) {\n    const proyectos = await this.cargarProyectos();\n    const indice = proyectos.findIndex((p) => p.id === id);\n\n    if (indice === -1) {\n      return null;\n    }\n\n    proyectos[indice] = {\n      ...proyectos[indice],\n      ...datosActualizacion,\n      fechaActualizacion: new Date().toISOString(),\n    };\n\n    await this.guardarProyectos(proyectos);\n    return proyectos[indice];\n  }\n\n  async eliminar(id) {\n    const proyectos = await this.cargarProyectos();\n    const indice = proyectos.findIndex((p) => p.id === id);\n\n    if (indice === -1) {\n      return null;\n    }\n\n    const [proyectoEliminado] = proyectos.splice(indice, 1);\n    await this.guardarProyectos(proyectos);\n    return proyectoEliminado;\n  }\n}\n\n// Instancia del gestor de proyectos\nconst gestorProyectos = new GestorProyectos(RUTA_PROYECTOS);\n\n// Rutas de la API\napp.get("/api/proyectos", async (req, res) => {\n  try {\n    const { estado, busqueda } = req.query;\n    const proyectos = await gestorProyectos.obtenerTodos({ estado, busqueda });\n\n    res.json({\n      success: true,\n      data: proyectos,\n      total: proyectos.length,\n    });\n  } catch (error) {\n    console.error("Error obteniendo proyectos:", error);\n    res.status(500).json({\n      success: false,\n      error: "Error interno del servidor al obtener proyectos",\n    });\n  }\n});\n\napp.get("/api/proyectos/:id", async (req, res) => {\n  try {\n    const id = parseInt(req.params.id);\n\n    if (isNaN(id)) {\n      return res.status(400).json({\n        success: false,\n        error: "ID debe ser un n\xfamero v\xe1lido",\n      });\n    }\n\n    const proyecto = await gestorProyectos.obtenerPorId(id);\n\n    if (!proyecto) {\n      return res.status(404).json({\n        success: false,\n        error: "Proyecto no encontrado",\n      });\n    }\n\n    res.json({\n      success: true,\n      data: proyecto,\n    });\n  } catch (error) {\n    console.error("Error obteniendo proyecto:", error);\n    res.status(500).json({\n      success: false,\n      error: "Error interno del servidor al obtener el proyecto",\n    });\n  }\n});\n\napp.post("/api/proyectos", async (req, res) => {\n  try {\n    const { titulo, descripcion, estado = "activo" } = req.body;\n\n    // Validaciones\n    if (!titulo || !descripcion) {\n      return res.status(400).json({\n        success: false,\n        error: \'Los campos "titulo" y "descripcion" son obligatorios\',\n      });\n    }\n\n    if (titulo.length < 3) {\n      return res.status(400).json({\n        success: false,\n        error: "El t\xedtulo debe tener al menos 3 caracteres",\n      });\n    }\n\n    const nuevoProyecto = await gestorProyectos.crear({\n      titulo: titulo.trim(),\n      descripcion: descripcion.trim(),\n      estado,\n    });\n\n    res.status(201).json({\n      success: true,\n      message: "Proyecto creado exitosamente",\n      data: nuevoProyecto,\n    });\n  } catch (error) {\n    console.error("Error creando proyecto:", error);\n    res.status(500).json({\n      success: false,\n      error: "Error interno del servidor al crear el proyecto",\n    });\n  }\n});\n\napp.put("/api/proyectos/:id", async (req, res) => {\n  try {\n    const id = parseInt(req.params.id);\n\n    if (isNaN(id)) {\n      return res.status(400).json({\n        success: false,\n        error: "ID debe ser un n\xfamero v\xe1lido",\n      });\n    }\n\n    const { titulo, descripcion, estado } = req.body;\n    const datosActualizacion = {};\n\n    if (titulo !== undefined) {\n      if (titulo.length < 3) {\n        return res.status(400).json({\n          success: false,\n          error: "El t\xedtulo debe tener al menos 3 caracteres",\n        });\n      }\n      datosActualizacion.titulo = titulo.trim();\n    }\n\n    if (descripcion !== undefined) {\n      datosActualizacion.descripcion = descripcion.trim();\n    }\n\n    if (estado !== undefined) {\n      datosActualizacion.estado = estado;\n    }\n\n    const proyectoActualizado = await gestorProyectos.actualizar(\n      id,\n      datosActualizacion\n    );\n\n    if (!proyectoActualizado) {\n      return res.status(404).json({\n        success: false,\n        error: "Proyecto no encontrado",\n      });\n    }\n\n    res.json({\n      success: true,\n      message: "Proyecto actualizado exitosamente",\n      data: proyectoActualizado,\n    });\n  } catch (error) {\n    console.error("Error actualizando proyecto:", error);\n    res.status(500).json({\n      success: false,\n      error: "Error interno del servidor al actualizar el proyecto",\n    });\n  }\n});\n\napp.delete("/api/proyectos/:id", async (req, res) => {\n  try {\n    const id = parseInt(req.params.id);\n\n    if (isNaN(id)) {\n      return res.status(400).json({\n        success: false,\n        error: "ID debe ser un n\xfamero v\xe1lido",\n      });\n    }\n\n    const proyectoEliminado = await gestorProyectos.eliminar(id);\n\n    if (!proyectoEliminado) {\n      return res.status(404).json({\n        success: false,\n        error: "Proyecto no encontrado",\n      });\n    }\n\n    res.json({\n      success: true,\n      message: "Proyecto eliminado exitosamente",\n      data: proyectoEliminado,\n    });\n  } catch (error) {\n    console.error("Error eliminando proyecto:", error);\n    res.status(500).json({\n      success: false,\n      error: "Error interno del servidor al eliminar el proyecto",\n    });\n  }\n});\n\n// Ruta para estad\xedsticas del servidor\napp.get("/api/estadisticas", async (req, res) => {\n  try {\n    const proyectos = await gestorProyectos.obtenerTodos();\n    const proyectosPorEstado = proyectos.reduce((acc, proyecto) => {\n      acc[proyecto.estado] = (acc[proyecto.estado] || 0) + 1;\n      return acc;\n    }, {});\n\n    res.json({\n      success: true,\n      data: {\n        totalProyectos: proyectos.length,\n        proyectosPorEstado,\n        servidor: {\n          nodeVersion: process.version,\n          plataforma: process.platform,\n          memoria: process.memoryUsage(),\n          tiempoActividad: process.uptime(),\n        },\n      },\n    });\n  } catch (error) {\n    console.error("Error obteniendo estad\xedsticas:", error);\n    res.status(500).json({\n      success: false,\n      error: "Error interno del servidor al obtener estad\xedsticas",\n    });\n  }\n});\n\n// Ruta de salud del servidor\napp.get("/api/health", (req, res) => {\n  res.json({\n    status: "ok",\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime(),\n  });\n});\n\n// Manejo de rutas no encontradas\napp.use("*", (req, res) => {\n  if (req.headers.accept && req.headers.accept.includes("application/json")) {\n    return res.status(404).json({\n      success: false,\n      error: "Endpoint no encontrado",\n      path: req.originalUrl,\n    });\n  }\n\n  res.status(404).sendFile(path.join(__dirname, "public", "404.html"));\n});\n\n// Manejo global de errores\napp.use((err, req, res, next) => {\n  console.error("Error no manejado:", err);\n\n  res.status(500).json({\n    success: false,\n    error: "Error interno del servidor",\n    message:\n      process.env.NODE_ENV === "development" ? err.message : "Algo sali\xf3 mal",\n  });\n});\n\n// Inicializar datos de ejemplo si no existen\nasync function inicializarDatos() {\n  try {\n    const proyectos = await gestorProyectos.cargarProyectos();\n\n    if (proyectos.length === 0) {\n      console.log("Inicializando datos de ejemplo...");\n\n      const proyectosEjemplo = [\n        {\n          id: 1,\n          titulo: "API REST con Express",\n          descripcion:\n            "Implementaci\xf3n de API REST completa usando Express.js y ES Modules",\n          estado: "completado",\n          fechaCreacion: new Date("2024-01-15").toISOString(),\n        },\n        {\n          id: 2,\n          titulo: "Sistema de Gesti\xf3n de Proyectos",\n          descripcion:\n            "Aplicaci\xf3n web para gestionar proyectos y tareas del equipo",\n          estado: "activo",\n          fechaCreacion: new Date("2024-02-01").toISOString(),\n        },\n        {\n          id: 3,\n          titulo: "Documentaci\xf3n T\xe9cnica",\n          descripcion:\n            "Creaci\xf3n de documentaci\xf3n completa para el sistema desarrollado",\n          estado: "pendiente",\n          fechaCreacion: new Date("2024-02-10").toISOString(),\n        },\n      ];\n\n      await gestorProyectos.guardarProyectos(proyectosEjemplo);\n      console.log("Datos de ejemplo inicializados correctamente");\n    }\n  } catch (error) {\n    console.error("Error inicializando datos:", error);\n  }\n}\n\n// Iniciar servidor\napp.listen(PORT, async () => {\n  await inicializarDatos();\n\n  console.log("=".repeat(60));\n  console.log("\ud83d\ude80 SERVIDOR EXPRESS COMPLETO INICIADO");\n  console.log("=".repeat(60));\n  console.log(`\ud83d\udce1 URL: http://localhost:${PORT}`);\n  console.log(`\ud83d\udcc1 Archivos est\xe1ticos: ${path.join(__dirname, "public")}`);\n  console.log(`\ud83d\udcbe Datos persistentes: ${RUTA_PROYECTOS}`);\n  console.log("");\n  console.log("\ud83d\udccd ENDPOINTS DISPONIBLES:");\n  console.log("");\n  console.log("\ud83c\udf10 P\xc1GINAS WEB:");\n  console.log("   GET /                    - P\xe1gina principal");\n  console.log("");\n  console.log("\ud83d\udd17 API ENDPOINTS:");\n  console.log(\n    "   GET    /api/proyectos    - Listar proyectos (filtros: ?estado=&busqueda=)"\n  );\n  console.log("   GET    /api/proyectos/:id - Obtener proyecto espec\xedfico");\n  console.log("   POST   /api/proyectos    - Crear nuevo proyecto");\n  console.log("   PUT    /api/proyectos/:id - Actualizar proyecto");\n  console.log("   DELETE /api/proyectos/:id - Eliminar proyecto");\n  console.log("   GET    /api/estadisticas - Estad\xedsticas del servidor");\n  console.log("   GET    /api/health       - Salud del servidor");\n  console.log("");\n  console.log("\ud83d\udcca CARACTER\xcdSTICAS:");\n  console.log("   \u2705 Persistencia en archivo JSON");\n  console.log("   \u2705 Middleware de logging");\n  console.log("   \u2705 Validaci\xf3n de datos");\n  console.log("   \u2705 Manejo de errores");\n  console.log("   \u2705 Servicio de archivos est\xe1ticos");\n  console.log("   \u2705 ES Modules (import/export)");\n  console.log("=".repeat(60));\n});\n'})}),"\n",(0,o.jsx)(n.h2,{id:"migraci\xf3n-desde-el-m\xf3dulo-anterior",children:"Migraci\xf3n desde el M\xf3dulo Anterior"}),"\n",(0,o.jsx)(n.p,{children:"Si est\xe1s migrando un proyecto del m\xf3dulo anterior (con el m\xf3dulo HTTP nativo) a Express, aqu\xed est\xe1n las principales diferencias:"}),"\n",(0,o.jsx)(n.h3,{id:"antes-http-nativo",children:"Antes (HTTP Nativo)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'// Con m\xf3dulo HTTP nativo y CommonJS\nconst http = require("http");\nconst server = http.createServer((req, res) => {\n  if (req.url === "/" && req.method === "GET") {\n    res.writeHead(200, { "Content-Type": "text/html" });\n    res.end("<h1>Hola Mundo</h1>");\n  }\n});\n'})}),"\n",(0,o.jsx)(n.h3,{id:"despu\xe9s-express-con-es-modules",children:"Despu\xe9s (Express con ES Modules)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'// Con Express y ES Modules\nimport express from "express";\nconst app = express();\n\napp.get("/", (req, res) => {\n  res.send("<h1>Hola Mundo</h1>");\n});\n'})}),"\n",(0,o.jsx)(n.h3,{id:"ventajas-de-express",children:"Ventajas de Express"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sintaxis m\xe1s clara"}),": Las rutas se definen de manera m\xe1s intuitiva"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Middleware integrado"}),": Parsing JSON, servir archivos est\xe1ticos, etc."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manejo de errores"}),": Estructura consistente para manejo de errores"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Extensibilidad"}),": Gran ecosistema de middlewares y extensiones"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Productividad"}),": Desarrollo m\xe1s r\xe1pido y menos c\xf3digo boilerplate"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"qu\xe9-has-aprendido-en-este-m\xf3dulo",children:"\xbfQu\xe9 Has Aprendido en Este M\xf3dulo?"}),"\n",(0,o.jsx)(n.h3,{id:"conceptos-fundamentales-de-express",children:"Conceptos Fundamentales de Express"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Qu\xe9 es Express.js"})," y por qu\xe9 simplifica el desarrollo web con Node.js"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configuraci\xf3n de proyectos"})," con ES Modules en lugar de CommonJS"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Creaci\xf3n de aplicaciones Express"})," b\xe1sicas y comprensi\xf3n de su arquitectura"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"desarrollo-de-apis-rest",children:"Desarrollo de APIs REST"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Implementaci\xf3n de operaciones CRUD"})," completas (Create, Read, Update, Delete)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manejo de par\xe1metros de ruta"})," (",(0,o.jsx)(n.code,{children:"/api/proyectos/:id"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Procesamiento de par\xe1metros de consulta"})," (",(0,o.jsx)(n.code,{children:"?estado=activo&busqueda=api"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validaci\xf3n de datos"})," de entrada en peticiones POST y PUT"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Uso apropiado de c\xf3digos de estado HTTP"})," (200, 201, 400, 404, 500)"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"middlewares-y-caracter\xedsticas-avanzadas",children:"Middlewares y Caracter\xedsticas Avanzadas"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Middleware para parsing JSON"})," con ",(0,o.jsx)(n.code,{children:"express.json()"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Servicio de archivos est\xe1ticos"})," con ",(0,o.jsx)(n.code,{children:"express.static()"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Creaci\xf3n de middlewares personalizados"})," para logging y otras funcionalidades"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manejo global de errores"})," y rutas no encontradas (404)"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"persistencia-de-datos-y-estructura",children:"Persistencia de Datos y Estructura"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Persistencia en archivos JSON"})," usando el m\xf3dulo ",(0,o.jsx)(n.code,{children:"fs"})," con async/await"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Organizaci\xf3n del c\xf3digo"})," en clases para mejor mantenibilidad"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Separaci\xf3n de responsabilidades"})," entre rutas, l\xf3gica de negocio y persistencia"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"buenas-pr\xe1cticas-y-producci\xf3n",children:"Buenas Pr\xe1cticas y Producci\xf3n"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Estructura de respuesta consistente"})," para APIs"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Logging de actividades"})," del servidor"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manejo de errores robusto"})," con informaci\xf3n apropiada"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Inicializaci\xf3n de datos"})," de ejemplo para desarrollo"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configuraci\xf3n para diferentes entornos"})," (desarrollo/producci\xf3n)"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"recursos-adicionales",children:"Recursos Adicionales"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://expressjs.com/",children:"Documentaci\xf3n oficial de Express.js"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://nodejs.org/api/esm.html",children:"Gu\xeda de migraci\xf3n a ES Modules en Node.js"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://expressjs.com/en/starter/generator.html",children:"Express Application Generator"})," - Herramienta para crear aplicaciones Express"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://expressjs.com/en/guide/using-middleware.html",children:"Middleware de Express"})," - Gu\xeda completa sobre middlewares"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://www.mongodb.com/mean-stack",children:"MEAN Stack Guide"})," - Para cuando quieras integrar con bases de datos"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://expressjs.com/en/advanced/best-practice-security.html",children:"Express Security Best Practices"})," - Mejores pr\xe1cticas de seguridad"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Este conocimiento te prepara para construir aplicaciones web y APIs robustas con Express.js, utilizando las mejores pr\xe1cticas y la sintaxis moderna de ES Modules."})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>i});var r=s(6540);const o={},a=r.createContext(o);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);