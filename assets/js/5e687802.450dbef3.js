"use strict";(globalThis.webpackChunkDocuQuest_oslar_code=globalThis.webpackChunkDocuQuest_oslar_code||[]).push([[6704],{6557:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"backend/apiWeb/graphQL","title":"GraphQL","description":"GraphQL es una forma moderna de trabajar con APIs que te permite pedir exactamente los datos que necesitas, ni m\xe1s ni menos. A diferencia del estilo tradicional REST, con GraphQL puedes hacer consultas a medida y obtener todo lo necesario en una sola llamada.","source":"@site/docs/backend/apiWeb/graphQL.md","sourceDirName":"backend/apiWeb","slug":"/backend/apiWeb/graphQL","permalink":"/docuQuest/docs/backend/apiWeb/graphQL","draft":false,"unlisted":false,"editUrl":"https://github.com/OslarCode/OslarCode/docs/backend/apiWeb/graphQL.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Consumo de APIs web","permalink":"/docuQuest/docs/backend/apiWeb/consumo"},"next":{"title":"Seguridad APIs web","permalink":"/docuQuest/docs/backend/apiWeb/seguridad"}}');var r=a(4848),l=a(8453);const o={},i="GraphQL",d={},c=[{value:"\xbfQu\xe9 hace a GraphQL tan especial?",id:"qu\xe9-hace-a-graphql-tan-especial",level:2},{value:"Esquema y resolvers: el motor de GraphQL",id:"esquema-y-resolvers-el-motor-de-graphql",level:2},{value:"El esquema: el contrato entre cliente y servidor",id:"el-esquema-el-contrato-entre-cliente-y-servidor",level:3},{value:"Los resolvers: los que hacen el trabajo real",id:"los-resolvers-los-que-hacen-el-trabajo-real",level:3},{value:"\xbfGraphQL es mejor que REST?",id:"graphql-es-mejor-que-rest",level:2},{value:"REST",id:"rest",level:3},{value:"GraphQL",id:"graphql-1",level:3},{value:"Ejemplos de uso en la vida real",id:"ejemplos-de-uso-en-la-vida-real",level:2},{value:"Consulta simple",id:"consulta-simple",level:3},{value:"Mutaci\xf3n (crear un nuevo usuario)",id:"mutaci\xf3n-crear-un-nuevo-usuario",level:3},{value:"Actualizar un usuario",id:"actualizar-un-usuario",level:3},{value:"\xbfVale la pena usar GraphQL?",id:"vale-la-pena-usar-graphql",level:2},{value:"Reflexi\xf3n final",id:"reflexi\xf3n-final",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"graphql",children:"GraphQL"})}),"\n",(0,r.jsx)(n.h1,{id:"entendiendo-graphql-de-forma-sencilla",children:"Entendiendo GraphQL de forma sencilla"}),"\n",(0,r.jsx)(n.p,{children:"GraphQL es una forma moderna de trabajar con APIs que te permite pedir exactamente los datos que necesitas, ni m\xe1s ni menos. A diferencia del estilo tradicional REST, con GraphQL puedes hacer consultas a medida y obtener todo lo necesario en una sola llamada."}),"\n",(0,r.jsx)(n.h2,{id:"qu\xe9-hace-a-graphql-tan-especial",children:"\xbfQu\xe9 hace a GraphQL tan especial?"}),"\n",(0,r.jsx)(n.p,{children:"Imagina que vas a una tienda y en lugar de aceptar solo combos predise\xf1ados, puedes elegir exactamente lo que quieres poner en tu carrito. As\xed funciona GraphQL. En lugar de depender de m\xfaltiples rutas fijas como en REST (una para cada cosa), haces una sola consulta donde indicas todo lo que quieres. Eso hace que tu app sea m\xe1s r\xe1pida y que el c\xf3digo sea m\xe1s limpio."}),"\n",(0,r.jsx)(n.p,{children:"Esto soluciona dos problemas comunes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Over-fetching"}),": cuando una API REST devuelve m\xe1s datos de los que realmente necesitas."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Under-fetching"}),": cuando tienes que hacer varias llamadas para reunir toda la informaci\xf3n."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Con GraphQL haces una sola petici\xf3n personalizada y obtienes solo lo que pediste."}),"\n",(0,r.jsx)(n.h2,{id:"esquema-y-resolvers-el-motor-de-graphql",children:"Esquema y resolvers: el motor de GraphQL"}),"\n",(0,r.jsx)(n.h3,{id:"el-esquema-el-contrato-entre-cliente-y-servidor",children:"El esquema: el contrato entre cliente y servidor"}),"\n",(0,r.jsxs)(n.p,{children:["El ",(0,r.jsx)(n.strong,{children:"esquema"})," define las reglas del juego. Es como un mapa que dice qu\xe9 tipos de datos existen, c\xf3mo se relacionan y qu\xe9 operaciones se pueden hacer. Por ejemplo, un tipo ",(0,r.jsx)(n.code,{children:"User"})," podr\xeda tener los campos ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"})," y ",(0,r.jsx)(n.code,{children:"age"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Tambi\xe9n puedes definir operaciones como:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Query"}),": para obtener datos (como un GET)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Mutation"}),": para modificar datos (como un POST, PUT o DELETE)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Subscription"}),": para recibir actualizaciones en tiempo real (como un chat en vivo o notificaciones)."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo de un esquema muy simple:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"type Query {\n  users: [User]\n}\n\ntype Mutation {\n  createUser(name: String!, age: Int!): User\n}\n\ntype User {\n  id: ID!\n  name: String!\n  age: Int!\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"los-resolvers-los-que-hacen-el-trabajo-real",children:"Los resolvers: los que hacen el trabajo real"}),"\n",(0,r.jsxs)(n.p,{children:["Cada campo del esquema necesita saber c\xf3mo conseguir su informaci\xf3n. Eso lo hacen los ",(0,r.jsx)(n.strong,{children:"resolvers"}),", que son funciones que se encargan de responder a lo que se pide. Si pides ",(0,r.jsx)(n.code,{children:"user(id: 1)"}),", el resolver busca ese usuario en la base de datos y lo devuelve."]}),"\n",(0,r.jsx)(n.p,{children:"En Node.js, esto puede verse as\xed:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"const resolvers = {\n  Query: {\n    users: () => db.getAllUsers(),\n  },\n  Mutation: {\n    createUser: (_, args) => db.createUser(args.name, args.age),\n  }\n};\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"graphql-es-mejor-que-rest",children:"\xbfGraphQL es mejor que REST?"}),"\n",(0,r.jsx)(n.p,{children:"No se trata de que uno sea \u201cmejor\u201d que el otro, sino de elegir el adecuado seg\xfan lo que necesites."}),"\n",(0,r.jsx)(n.h3,{id:"rest",children:"REST"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Usa varias URLs como ",(0,r.jsx)(n.code,{children:"/users"}),", ",(0,r.jsx)(n.code,{children:"/users/1"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Usa m\xe9todos HTTP (GET, POST, PUT, DELETE)."}),"\n",(0,r.jsx)(n.li,{children:"Es f\xe1cil de cachear con herramientas est\xe1ndar del navegador."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"graphql-1",children:"GraphQL"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Tiene solo un endpoint (",(0,r.jsx)(n.code,{children:"/graphql"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"T\xfa defines la forma y profundidad de los datos que quieres."}),"\n",(0,r.jsx)(n.li,{children:"Evita datos innecesarios y m\xfaltiples llamadas."}),"\n",(0,r.jsx)(n.li,{children:"Es m\xe1s flexible, pero requiere definir un esquema y resolvers."}),"\n",(0,r.jsx)(n.li,{children:"La cach\xe9 es m\xe1s compleja, aunque existen soluciones como Apollo Client."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplo pr\xe1ctico:"})}),"\n",(0,r.jsxs)(n.p,{children:["Con REST, para obtener un usuario y sus art\xedculos tendr\xedas que hacer dos llamadas: ",(0,r.jsx)(n.code,{children:"/users/1"})," y luego ",(0,r.jsx)(n.code,{children:"/users/1/articles"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Con GraphQL, puedes pedirlo todo de una:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'{\n  user(id: "1") {\n    name\n    articles {\n      title\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"ejemplos-de-uso-en-la-vida-real",children:"Ejemplos de uso en la vida real"}),"\n",(0,r.jsx)(n.h3,{id:"consulta-simple",children:"Consulta simple"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'{\n  user(id: "1") {\n    id\n    name\n    age\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Devuelve exactamente lo pedido:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n      "id": "1",\n      "name": "John Doe",\n      "age": 30\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mutaci\xf3n-crear-un-nuevo-usuario",children:"Mutaci\xf3n (crear un nuevo usuario)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  createUser(name: "Jane", age: 25) {\n    id\n    name\n    age\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"El servidor responde con los datos reci\xe9n creados."}),"\n",(0,r.jsx)(n.h3,{id:"actualizar-un-usuario",children:"Actualizar un usuario"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  updateUser(id: "2", name: "Jane Smith", age: 26) {\n    id\n    name\n    age\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"As\xed, puedes modificar solo lo necesario sin sobrescribir todo."}),"\n",(0,r.jsx)(n.h2,{id:"vale-la-pena-usar-graphql",children:"\xbfVale la pena usar GraphQL?"}),"\n",(0,r.jsxs)(n.p,{children:["Si tu aplicaci\xf3n necesita obtener datos de forma flexible, evitar m\xfaltiples peticiones o trabajar con conexiones m\xf3viles donde el rendimiento importa, ",(0,r.jsx)(n.strong,{children:"s\xed"}),". GraphQL puede darte el control que REST no siempre ofrece. Eso s\xed, aprender a definir esquemas y configurar resolvers lleva algo de tiempo, pero es una inversi\xf3n que vale la pena."]}),"\n",(0,r.jsx)(n.h2,{id:"reflexi\xf3n-final",children:"Reflexi\xf3n final"}),"\n",(0,r.jsx)(n.p,{children:"GraphQL cambia la forma en que dise\xf1amos APIs. Al poner al cliente en control de los datos que recibe, mejora la eficiencia y la experiencia del usuario. Pero como todo en desarrollo, hay que elegir la herramienta adecuada para el problema que tienes."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\xbfY t\xfa? Te animas a probar GraphQL en tu pr\xf3ximo proyecto o migrar parte de tu backend para ganar m\xe1s flexibilidad?"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>i});var s=a(6540);const r={},l=s.createContext(r);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);