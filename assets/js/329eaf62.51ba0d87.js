"use strict";(globalThis.webpackChunkDocuQuest_oslar_code=globalThis.webpackChunkDocuQuest_oslar_code||[]).push([[1091],{8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var i=s(6540);const c={},d=i.createContext(c);function l(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),i.createElement(d.Provider,{value:n},e.children)}},9792:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"backend/databases/Que_es_un_indice_y_como_usarlo","title":"\xbfQu\xe9 es un \xedndice y c\xf3mo usarlo?","description":"17.1. Qu\xe9 es un \xedndice (en palabras sencillas)","source":"@site/docs/backend/databases/Que_es_un_indice_y_como_usarlo.md","sourceDirName":"backend/databases","slug":"/backend/databases/Que_es_un_indice_y_como_usarlo","permalink":"/docuQuest/docs/backend/databases/Que_es_un_indice_y_como_usarlo","draft":false,"unlisted":false,"editUrl":"https://github.com/OslarCode/OslarCode/docs/backend/databases/Que_es_un_indice_y_como_usarlo.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Tablas puente y modelado N-a-N","permalink":"/docuQuest/docs/backend/databases/Tablas_puente_y_modelado_N-a-N"},"next":{"title":"Patrones de indexaci\xf3n","permalink":"/docuQuest/docs/backend/databases/Patrones_de_indexacion"}}');var c=s(4848),d=s(8453);const l={},r="\xbfQu\xe9 es un \xedndice y c\xf3mo usarlo?",a={},o=[{value:"17.1. Qu\xe9 es un \xedndice (en palabras sencillas)",id:"171-qu\xe9-es-un-\xedndice-en-palabras-sencillas",level:2},{value:"17.2. Ejemplo sin \xedndice",id:"172-ejemplo-sin-\xedndice",level:2},{value:"17.3. Creando un \xedndice",id:"173-creando-un-\xedndice",level:2},{value:"17.4. \xcdndices y claves primarias",id:"174-\xedndices-y-claves-primarias",level:2},{value:"17.5. \xcdndices en claves for\xe1neas",id:"175-\xedndices-en-claves-for\xe1neas",level:2},{value:"17.6. Tipos de \xedndices m\xe1s comunes",id:"176-tipos-de-\xedndices-m\xe1s-comunes",level:2},{value:"17.7. \xcdndices y selectividad",id:"177-\xedndices-y-selectividad",level:2},{value:"17.8. Ejemplo \u2014 cu\xe1ndo <strong>no</strong> usar \xedndice",id:"178-ejemplo--cu\xe1ndo-no-usar-\xedndice",level:2},{value:"17.9. \xcdndices compuestos",id:"179-\xedndices-compuestos",level:2},{value:"17.10. \xcdndices \xfanicos",id:"1710-\xedndices-\xfanicos",level:2},{value:"17.11. Coste de los \xedndices",id:"1711-coste-de-los-\xedndices",level:2},{value:"17.12. Visualizar si se est\xe1 usando un \xedndice (EXPLAIN)",id:"1712-visualizar-si-se-est\xe1-usando-un-\xedndice-explain",level:2},{value:"17.13. \xcdndices en joins",id:"1713-\xedndices-en-joins",level:2},{value:"17.14. Buenas pr\xe1cticas",id:"1714-buenas-pr\xe1cticas",level:2},{value:"17.15. Errores comunes",id:"1715-errores-comunes",level:2}];function t(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"qu\xe9-es-un-\xedndice-y-c\xf3mo-usarlo",children:"\xbfQu\xe9 es un \xedndice y c\xf3mo usarlo?"})}),"\n",(0,c.jsx)(n.h2,{id:"171-qu\xe9-es-un-\xedndice-en-palabras-sencillas",children:"17.1. Qu\xe9 es un \xedndice (en palabras sencillas)"}),"\n",(0,c.jsxs)(n.p,{children:["Un \xedndice es como ",(0,c.jsx)(n.strong,{children:"el \xedndice de un libro"}),":"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Sin \xedndice, tienes que leer p\xe1gina por p\xe1gina hasta encontrar lo que buscas."}),"\n",(0,c.jsx)(n.li,{children:"Con \xedndice, vas directo al cap\xedtulo o p\xe1rrafo que te interesa."}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"En una base de datos, un \xedndice permite:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Acceder r\xe1pidamente a registros que cumplen ciertas condiciones."}),"\n",(0,c.jsxs)(n.li,{children:["Acelerar b\xfasquedas (",(0,c.jsx)(n.code,{children:"WHERE"}),"), joins (",(0,c.jsx)(n.code,{children:"JOIN"}),"), ordenaciones (",(0,c.jsx)(n.code,{children:"ORDER BY"}),"), y filtros."]}),"\n",(0,c.jsx)(n.li,{children:"Evitar recorrer toda la tabla (full scan) innecesariamente."}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["Los \xedndices ",(0,c.jsx)(n.strong,{children:"no almacenan datos nuevos"}),": almacenan ",(0,c.jsx)(n.strong,{children:"punteros ordenados"})," a las filas reales de la tabla."]}),"\n",(0,c.jsx)(n.p,{children:"La base los mantiene sincronizados cada vez que insertas, actualizas o borras."}),"\n",(0,c.jsx)(n.h2,{id:"172-ejemplo-sin-\xedndice",children:"17.2. Ejemplo sin \xedndice"}),"\n",(0,c.jsxs)(n.p,{children:["Sup\xf3n una tabla ",(0,c.jsx)(n.code,{children:"cliente"})," con 500.000 registros:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE cliente (\n  id_cliente SERIAL PRIMARY KEY,\n  nombre VARCHAR(100),\n  correo VARCHAR(150),\n  ciudad VARCHAR(100)\n);\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"Si haces esta consulta:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM cliente WHERE correo = 'ana@example.com';\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Sin \xedndice en ",(0,c.jsx)(n.code,{children:"correo"}),", la base debe ",(0,c.jsx)(n.strong,{children:"recorrer las 500.000 filas"})," hasta encontrar la coincidencia."]}),"\n",(0,c.jsxs)(n.p,{children:["Esto es lo que se llama ",(0,c.jsx)(n.strong,{children:"sequential scan"})," (escaneo secuencial)."]}),"\n",(0,c.jsx)(n.p,{children:"En pocas filas no importa\u2026"}),"\n",(0,c.jsxs)(n.p,{children:["Pero en cientos de miles o millones, ",(0,c.jsx)(n.strong,{children:"la diferencia es brutal"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"173-creando-un-\xedndice",children:"17.3. Creando un \xedndice"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_cliente_correo ON cliente(correo);\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"Ahora al ejecutar:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM cliente WHERE correo = 'ana@example.com';\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["El motor usa el \xedndice ",(0,c.jsx)(n.code,{children:"idx_cliente_correo"})," para ",(0,c.jsx)(n.strong,{children:"ir directamente"})," a la posici\xf3n donde est\xe1 ",(0,c.jsx)(n.code,{children:"ana@example.com"}),"."]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Ventaja:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Tiempo de respuesta mucho m\xe1s bajo."}),"\n",(0,c.jsx)(n.li,{children:"Menor carga en disco y CPU."}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"174-\xedndices-y-claves-primarias",children:"17.4. \xcdndices y claves primarias"}),"\n",(0,c.jsxs)(n.p,{children:["Cuando defines una ",(0,c.jsx)(n.strong,{children:"PRIMARY KEY"}),", la base de datos ",(0,c.jsx)(n.strong,{children:"crea autom\xe1ticamente un \xedndice"})," sobre esa columna (o columnas)."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE alumno (\n  id_alumno SERIAL PRIMARY KEY,\n  nombre VARCHAR(100)\n);\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Ya tienes un \xedndice en ",(0,c.jsx)(n.code,{children:"id_alumno"}),", por eso buscar por PK es siempre r\xe1pido:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM alumno WHERE id_alumno = 100;\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"No necesitas crear un \xedndice adicional sobre la PK."}),"\n",(0,c.jsx)(n.h2,{id:"175-\xedndices-en-claves-for\xe1neas",children:"17.5. \xcdndices en claves for\xe1neas"}),"\n",(0,c.jsxs)(n.p,{children:["Si usas muchas relaciones, tambi\xe9n conviene ",(0,c.jsx)(n.strong,{children:"indexar las claves for\xe1neas"})," para que los JOIN sean r\xe1pidos:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE pedido (\n  id_pedido SERIAL PRIMARY KEY,\n  id_cliente INT REFERENCES cliente(id_cliente),\n  fecha TIMESTAMP\n);\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Aunque no es obligatorio, ",(0,c.jsxs)(n.strong,{children:["crear un \xedndice sobre ",(0,c.jsx)(n.code,{children:"id_cliente"})," en ",(0,c.jsx)(n.code,{children:"pedido"})," mejora much\xedsimo"]}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_pedido_id_cliente ON pedido(id_cliente);\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"As\xed consultas como:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"SELECT *\nFROM cliente c\nJOIN pedido p ON c.id_cliente = p.id_cliente\nWHERE c.id_cliente = 50;\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"se resuelven sin escanear toda la tabla de pedidos."}),"\n",(0,c.jsx)(n.h2,{id:"176-tipos-de-\xedndices-m\xe1s-comunes",children:"17.6. Tipos de \xedndices m\xe1s comunes"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Tipo de \xedndice"}),(0,c.jsx)(n.th,{children:"Caracter\xedsticas principales"}),(0,c.jsx)(n.th,{children:"Uso t\xedpico"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.strong,{children:"B-Tree"})," (por defecto)"]}),(0,c.jsx)(n.td,{children:"Ordenado, eficiente en b\xfasquedas exactas y rangos"}),(0,c.jsx)(n.td,{children:"PK, FK, b\xfasquedas por valor, ORDER BY"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Hash"})}),(0,c.jsx)(n.td,{children:"B\xfasquedas exactas, no sirve para rangos"}),(0,c.jsx)(n.td,{children:"Claves \xfanicas consultadas por igualdad"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Compuestos"})}),(0,c.jsx)(n.td,{children:"\xcdndice sobre varias columnas"}),(0,c.jsx)(n.td,{children:"Consultas que filtran por m\xe1s de una columna"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsxs)(n.strong,{children:["\xdanicos (",(0,c.jsx)(n.code,{children:"UNIQUE"}),")"]})}),(0,c.jsx)(n.td,{children:"Garantizan unicidad adem\xe1s de acelerar consultas"}),(0,c.jsx)(n.td,{children:"Correos, DNI, usernames"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Full-text / GIN / GiST"})}),(0,c.jsx)(n.td,{children:"Para b\xfasquedas de texto avanzado (m\xe1s adelante)"}),(0,c.jsx)(n.td,{children:"Buscadores, filtros complejos"})]})]})]}),"\n",(0,c.jsxs)(n.p,{children:["En la mayor\xeda de los casos, ",(0,c.jsx)(n.strong,{children:"B-Tree es suficiente y el m\xe1s eficiente"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"177-\xedndices-y-selectividad",children:"17.7. \xcdndices y selectividad"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"Selectividad"})," = ",(0,c.jsx)(n.strong,{children:"qu\xe9 tan discriminante"})," es un campo."]}),"\n",(0,c.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\xcdndice en ",(0,c.jsx)(n.code,{children:"correo"})," (cada valor \xfanico) \u2192 alta selectividad \u2705 (muy \xfatil)."]}),"\n",(0,c.jsxs)(n.li,{children:["\xcdndice en ",(0,c.jsx)(n.code,{children:"activo"})," (TRUE/FALSE) \u2192 baja selectividad \u274c (poco \xfatil, casi todos los registros comparten valor)."]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Regla pr\xe1ctica:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\xcdndices son m\xe1s efectivos cuando ",(0,c.jsx)(n.strong,{children:"reducen dr\xe1sticamente el n\xfamero de filas"})," a leer."]}),"\n",(0,c.jsx)(n.li,{children:"Evita indexar columnas con muy pocos valores posibles."}),"\n"]}),"\n",(0,c.jsxs)(n.h2,{id:"178-ejemplo--cu\xe1ndo-no-usar-\xedndice",children:["17.8. Ejemplo \u2014 cu\xe1ndo ",(0,c.jsx)(n.strong,{children:"no"})," usar \xedndice"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_usuario_activo ON usuario(activo);\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Si ",(0,c.jsx)(n.code,{children:"activo"})," tiene solo 2 valores (",(0,c.jsx)(n.code,{children:"TRUE"}),"/",(0,c.jsx)(n.code,{children:"FALSE"}),") y 95 % de la tabla es ",(0,c.jsx)(n.code,{children:"TRUE"}),","]}),"\n",(0,c.jsxs)(n.p,{children:["el \xedndice ",(0,c.jsx)(n.strong,{children:"no mejora el rendimiento"}),", incluso puede empeorarlo."]}),"\n",(0,c.jsx)(n.p,{children:"En esos casos, el motor prefiere hacer un full scan porque es m\xe1s barato que ir y volver con miles de punteros de \xedndice."}),"\n",(0,c.jsx)(n.h2,{id:"179-\xedndices-compuestos",children:"17.9. \xcdndices compuestos"}),"\n",(0,c.jsxs)(n.p,{children:["Si consultas a menudo por ",(0,c.jsx)(n.strong,{children:"m\xe1s de una columna"}),", puedes crear \xedndices sobre m\xfaltiples campos."]}),"\n",(0,c.jsx)(n.p,{children:"Ejemplo \u2014 b\xfasquedas frecuentes por ciudad y correo:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_cliente_ciudad_correo\nON cliente(ciudad, correo);\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"Consulta que lo aprovecha:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM cliente\nWHERE ciudad = 'Madrid' AND correo = 'ana@example.com';\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Importante:"})," el orden de las columnas en el \xedndice importa:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["El \xedndice ",(0,c.jsx)(n.code,{children:"(ciudad, correo)"})," sirve para filtrar por ",(0,c.jsx)(n.code,{children:"ciudad"})," sola o por ambas."]}),"\n",(0,c.jsxs)(n.li,{children:["Pero ",(0,c.jsx)(n.strong,{children:"no"})," para filtrar solo por ",(0,c.jsx)(n.code,{children:"correo"})," eficientemente."]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"Usa este patr\xf3n solo si el filtro compuesto es frecuente."}),"\n",(0,c.jsx)(n.h2,{id:"1710-\xedndices-\xfanicos",children:"17.10. \xcdndices \xfanicos"}),"\n",(0,c.jsxs)(n.p,{children:["Adem\xe1s de acelerar b\xfasquedas, los \xedndices pueden ",(0,c.jsx)(n.strong,{children:"garantizar unicidad"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"CREATE UNIQUE INDEX idx_cliente_correo_unico ON cliente(correo);\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"Si alguien intenta insertar dos clientes con el mismo correo:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"INSERT INTO cliente (nombre, correo) VALUES ('Ana', 'ana@example.com');\nINSERT INTO cliente (nombre, correo) VALUES ('Pedro', 'ana@example.com');\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"El segundo INSERT falla autom\xe1ticamente."}),"\n",(0,c.jsxs)(n.p,{children:["Esto combina ",(0,c.jsx)(n.strong,{children:"rendimiento + integridad"}),"."]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.em,{children:["(En muchos casos ya usar\xedas directamente ",(0,c.jsx)(n.code,{children:"UNIQUE"})," en la definici\xf3n de la tabla, lo cual crea el \xedndice autom\xe1ticamente.)"]})}),"\n",(0,c.jsx)(n.h2,{id:"1711-coste-de-los-\xedndices",children:"17.11. Coste de los \xedndices"}),"\n",(0,c.jsxs)(n.p,{children:["Un \xedndice ",(0,c.jsx)(n.strong,{children:"no es gratis"}),":"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Cada ",(0,c.jsx)(n.code,{children:"INSERT"}),", ",(0,c.jsx)(n.code,{children:"UPDATE"})," o ",(0,c.jsx)(n.code,{children:"DELETE"})," debe actualizar tambi\xe9n los \xedndices."]}),"\n",(0,c.jsx)(n.li,{children:"Muchos \xedndices innecesarios = escrituras m\xe1s lentas y consumo extra de disco."}),"\n",(0,c.jsxs)(n.li,{children:["Por eso solo debes ",(0,c.jsx)(n.strong,{children:"crear los que realmente aporten rendimiento"}),"."]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"Regla pr\xe1ctica:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\xcdndices para PK y FK"}),"\n",(0,c.jsx)(n.li,{children:"\xcdndices para columnas muy consultadas"}),"\n",(0,c.jsx)(n.li,{children:"\xcdndices para columnas de baja selectividad"}),"\n",(0,c.jsx)(n.li,{children:"\xcdndices duplicados (ej. \xedndice y PK sobre la misma columna)"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"1712-visualizar-si-se-est\xe1-usando-un-\xedndice-explain",children:"17.12. Visualizar si se est\xe1 usando un \xedndice (EXPLAIN)"}),"\n",(0,c.jsx)(n.p,{children:"La mayor\xeda de motores permiten ver si una consulta est\xe1 usando \xedndice."}),"\n",(0,c.jsx)(n.p,{children:"Ejemplo en PostgreSQL:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"EXPLAIN SELECT * FROM cliente WHERE correo = 'ana@example.com';\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"Si todo est\xe1 bien, ver\xe1s algo como:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"Index Scan using idx_cliente_correo on cliente ...\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"Si no:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"Seq Scan on cliente ...\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"significa que est\xe1 ignorando el \xedndice (puede ser porque el filtro no es selectivo o porque el \xedndice no ayuda en esa consulta)."}),"\n",(0,c.jsx)(n.h2,{id:"1713-\xedndices-en-joins",children:"17.13. \xcdndices en joins"}),"\n",(0,c.jsx)(n.p,{children:"En relaciones 1-N y N-N (como vimos en M\xf3dulo 16), los \xedndices son fundamentales:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"SELECT *\nFROM pedido p\nJOIN cliente c ON p.id_cliente = c.id_cliente\nWHERE c.correo = 'ana@example.com';\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["El \xedndice en ",(0,c.jsx)(n.code,{children:"cliente.correo"})," permite encontrar el cliente r\xe1pido."]}),"\n",(0,c.jsxs)(n.p,{children:["El \xedndice en ",(0,c.jsx)(n.code,{children:"pedido.id_cliente"})," permite localizar sus pedidos sin recorrer toda la tabla."]}),"\n",(0,c.jsxs)(n.p,{children:["Esto es ",(0,c.jsx)(n.strong,{children:"una de las optimizaciones m\xe1s efectivas"})," en bases relacionales reales."]}),"\n",(0,c.jsx)(n.h2,{id:"1714-buenas-pr\xe1cticas",children:"17.14. Buenas pr\xe1cticas"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Define \xedndices ",(0,c.jsx)(n.strong,{children:"solo en columnas que realmente usas en consultas frecuentes"}),"."]}),"\n",(0,c.jsxs)(n.li,{children:["Indexa ",(0,c.jsx)(n.strong,{children:"todas las FK importantes"})," para joins eficientes."]}),"\n",(0,c.jsxs)(n.li,{children:["Usa \xedndices ",(0,c.jsx)(n.strong,{children:"\xfanicos"})," para columnas que deben ser \xfanicas (correo, DNI\u2026)."]}),"\n",(0,c.jsx)(n.li,{children:"Usa \xedndices compuestos solo cuando el patr\xf3n de consulta lo justifique."}),"\n",(0,c.jsxs)(n.li,{children:["Verifica uso de \xedndices con ",(0,c.jsx)(n.code,{children:"EXPLAIN"})," antes y despu\xe9s de crearlos."]}),"\n",(0,c.jsx)(n.li,{children:"Revisa \xedndices peri\xf3dicamente: algunos se vuelven in\xfatiles con el tiempo."}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"1715-errores-comunes",children:"17.15. Errores comunes"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Crear \xedndices indiscriminadamente \u201cpor si acaso\u201d."}),"\n",(0,c.jsx)(n.li,{children:"No indexar FKs en tablas con millones de filas."}),"\n",(0,c.jsx)(n.li,{children:"Usar \xedndices en columnas con baja selectividad."}),"\n",(0,c.jsx)(n.li,{children:"No revisar si realmente se est\xe1n usando."}),"\n",(0,c.jsx)(n.li,{children:"Olvidar que los \xedndices tienen coste en escrituras."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}}}]);